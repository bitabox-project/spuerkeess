(()=>{var __webpack_modules__={79:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var u=function(e){function t(e,n){var o,s,l,u;return(0,a.A)(this,t),s=this,l=t,u=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,c()?Reflect.construct(l,u||[],(0,i.A)(s).constructor):l.apply(s,u))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.name=this.domElement.dataset.name,this.all=this.domElement.querySelectorAll(".sds-radio"),this.value=this.domElement.querySelector('INPUT[type="radio"]:checked').value,this.error=this.domElement.querySelector(".invalid-feedback")}},{key:"attachEvents",value:function(){var e=this;this.all.forEach(function(t){t.addEventListener("change",function(t){e.fireInteractionEvent(),e.onChange(e.getName(),e.getValue())})})}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.domElement.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.domElement.classList.remove("is-invalid")}},{key:"getValue",value:function(){return this.domElement.querySelector('INPUT[type="radio"]:checked').value}}])}(n(3525).A)},137:e=>{e.exports={SpacerUnit2:"2px",SpacerUnit4:"4px",SpacerUnit8:"8px",SpacerUnit12:"12px",SpacerUnit16:"16px",SpacerUnit24:"24px",SpacerUnit32:"32px",SpacerUnit40:"40px",SpacerUnit48:"48px",SpacerUnit56:"56px",SpacerUnit64:"64px",SpacerUnit72:"72px",SpacerUnit80:"80px",SpacerComponentStackMinXxs:"0",SpacerComponentStackMinXs:"2px",SpacerComponentStackMinSm:"4px",SpacerComponentStackMinMd:"8px",SpacerComponentStackMinLg:"16px",SpacerComponentStackMinXl:"24px",SpacerComponentStackMinXxl:"32px",SpacerComponentStackMin3xl:"40px",SpacerComponentStackMaxXxs:"2px",SpacerComponentStackMaxXs:"4px",SpacerComponentStackMaxSm:"8px",SpacerComponentStackMaxMd:"16px",SpacerComponentStackMaxLg:"24px",SpacerComponentStackMaxXl:"32px",SpacerComponentStackMaxXxl:"48px",SpacerComponentStackMax3xl:"56px",SpacerComponentInlineXs:"4px",SpacerComponentInlineSm:"8px",SpacerComponentInlineMd:"16px",SpacerComponentInlineLg:"24px",SpacerComponentInlineXl:"32px",SpacerComponentInlineXxl:"48px",SpacerComponentInsetXxs:"2px",SpacerComponentInsetXs:"4px",SpacerComponentInsetSm:"8px",SpacerComponentInsetMd:"16px",SpacerComponentInsetLg:"24px",SpacerComponentInsetXl:"32px",SpacerGridGutter:"32px",SpacerGridSm:"24px",SpacerGridXs:"16px",SpacerContentSectionX:"16px",SpacerContentSectionS:"32px",SpacerContentSectionS1:"32px",SpacerContentSectionSm:"40px",SpacerContentSectionSm1:"48px",SpacerContentSectionM:"56px",SpacerContentSectionL:"64px",SpacerContentSectionXl:"80px",SpacerTypo3FrameSpacingExtraSmallMobile:"8px",SpacerTypo3FrameSpacingExtraSmallDesktop:"16px",SpacerTypo3FrameSpacingSmallMobile:"16px",SpacerTypo3FrameSpacingSmallDesktop:"24px",SpacerTypo3FrameSpacingMediumMobile:"32px",SpacerTypo3FrameSpacingMediumDesktop:"40px",SpacerTypo3FrameSpacingLargeMobile:"48px",SpacerTypo3FrameSpacingLargeDesktop:"56px",SpacerTypo3FrameSpacingExtraLargeMobile:"40px",SpacerTypo3FrameSpacingExtraLargeDesktop:"80px"}},205:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(7545),o=n(9824);function r(e){var t=(0,o.A)(e,"string");return"symbol"==(0,a.A)(t)?t:t+""}},414:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(205);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,a.A)(o.key),o)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},542:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(5152),o=n(414),r=n(1909),i=n(5488),s=function(){return(0,o.A)(function e(){var t=this;(0,a.A)(this,e),this.services={};var n=new i.A;this.services[n.name()]=n,this.activateServices(),Events.register(r.A.Events.ANALYTICS,function(e){return t.processEvent(e),!0})},[{key:"activateServices",value:function(){for(var e in this.services){var t=this.services[e];t.activate&&t.activate()}}},{key:"processServiceEvent",value:function(e,t){if(this.services[e]){var n=this.services[e];n.isActive()&&n.event(t)}}},{key:"processEvent",value:function(e){for(var t in e.type&&(e.type,delete e.type),this.services){var n=this.services[t];n.isActive()&&n.event(e)}}}])}();window.AnalyticsGateway=new s;const l=window.AnalyticsGateway},645:e=>{function t(n,a,o,r){var i=Object.defineProperty;try{i({},"",{})}catch(n){i=0}e.exports=t=function(e,n,a,o){if(n)i?i(e,n,{value:a,enumerable:!o,configurable:!o,writable:!o}):e[n]=a;else{var r=function(n,a){t(e,n,function(e){return this._invoke(n,a,e)})};r("next",0),r("throw",1),r("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,a,o,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1087:(e,t,n)=>{"use strict";function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}n.d(t,{A:()=>a})},1506:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function u(e,t,n,a){var o=(0,s.A)((0,i.A)(1&a?e.prototype:e),t,n);return 2&a&&"function"==typeof o?function(e){return o.apply(n,e)}:o}var d=function(e){function t(){return(0,a.A)(this,t),e=this,n=t,o=arguments,n=(0,i.A)(n),(0,r.A)(e,c()?Reflect.construct(n,o||[],(0,i.A)(e).constructor):n.apply(e,o));var e,n,o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){u(t,"parse",this,3)([]),this.tabs=this.domElement.querySelectorAll(".js-toggle-tab-item"),this.activeTab=this.domElement.querySelector(".js-toggle-tab-item input:checked + .sds-btn"),this.error=this.domElement.querySelector(".invalid-feedback"),this.label=this.domElement.querySelector(".sds-label"),this.attachEvents()}},{key:"attachEvents",value:function(){var e=this;u(t,"attachEvents",this,3)([]),this.tabs.forEach(function(t){t.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation();var n=t.currentTarget.querySelector(".js-toggle-tab-item .sds-btn");n.dataset.value!==e.getValue()&&(e.activeTab=n,document.querySelector('input[id="'+e.activeTab.getAttribute("for")+'"]').checked=!0,e.onChange(e.getName(),e.getValue()))})})}},{key:"showError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.add("-error"),null===(t=this.domElement)||void 0===t||t.classList.add("is-invalid")}},{key:"hideError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.remove("-error"),null===(t=this.domElement)||void 0===t||t.classList.remove("is-invalid")}},{key:"getValue",value:function(){return this.activeTab.dataset.value}}])}(n(3525).A)},1515:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=function(e,t){var n=document.createElement(e),a=arguments.length>2?arguments[2]:"";return Array.isArray(a)?a.forEach(function(e){e.nodeType||(e=document.createTextNode(e)),n.appendChild(e)}):a instanceof Element||a instanceof HTMLDocument?n.appendChild(a):n.innerHTML=a,Object.keys(t).forEach(function(e){n.setAttribute(e,t[e])}),n}},1909:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a={Priority:{EXTRALOW:-2,LOW:-1,NORMAL:0,HIGH:1,EXTRAHIGH:2},Events:{AJAX_FORM_REQUESTED:"ajax.form.requested",AJAX_FORM_SUBMIT:"ajax.form.submit",AJAX_FORM_RESPONDED:"ajax.form.responded",AJAX_FORM_NEO_REQUESTED:"ajax.form.neo.requested",AJAX_FORM_NEO_SUBMIT:"ajax.form.neo.submit",AJAX_FORM_NEO_RESPONDED:"ajax.form.neo.responded",AJAX_STEP_FORM_SUBMIT:"ajax.step.form.submit",AJAX_STEP_FORM_SUBMIT_RESULT:"ajax.step.form.submit.result",AJAX_STEP_FORM_NEXT:"ajax.step.form.next",AJAX_STEP_FORM_BACK:"ajax.step.form.back",AJAX_STEP_FORM_INIT:"ajax.step.form.init",AJAX_STEP_FORM_STEP_CHECKED:"ajax.step.form.step.checked",AJAX_STEP_FORM_STEP_ACTIVE:"ajax.step.form.step.active",AJAX_STEP_FORM_SUMMARY_VALUES:"ajax.step.form.summary.values",AJAX_STEP_FORM_NAVIGATION:"ajax.step.form.navigation",AJAX_STEP_FORM_DYNAMIC_DATA:"ajax.step.form.dynamic.data",AJAX_STEP_FORM_TRIGGER_MODAL:"ajax.step.form.trigger.modal",AJAX_STEP_FORM_DISABLED_BTN:"ajax.step.form.disabled.btn",AJAX_STEP_FORM_FIELD_VALIDATION:"ajax.step.form.field.validation",AJAX_STEP_FORM_RESET_INPUT_VALUE:"ajax.step.form.reset.input.value",AJAX_STEP_FORM_HIDE_INPUT:"ajax.step.form.hide.input",AJAX_STEP_FORM_SHOW_INPUT:"ajax.step.form.show.input",AJAX_STEP_FORM_BACK_POSITION_UPDATED:"ajax.step.form.back.position.updated",AJAX_STEP_FORM_NEXT_POSITION_UPDATED:"ajax.step.form.next.position.updated",AJAX_STEP_FORM_APPOINTMENT_SEARCH_AGENCY:"ajax.appointment.search.agency",FORM_ELEMENT_CHANGED:"form.element.changed",FORM_ELEMENT_INTERACTED:"form.element.interacted",FORM_ERROR:"form.error",FORM_SLIDER_REBUILT:"form.slider.rebuild",FORM_SLIDER_SET_VALUE:"form.slider.set.value",FORM_SLIDER_SET_INDEX:"form.slider.set.index",FORM_INPUT_REBUILT:"form.input.rebuild",FORM_SELECT_REBUILT:"form.select.rebuild",FORM_COLOR_CHANGED:"form.color.changed",FORM_COLOR_REBUILD:"form.color.rebuild",CAPTCHA_REFRESH:"captcha.refresh",SEARCH_OVERLAY_SHOW:"search.overlay.show",WINDOW_RESIZE:"window.resize",WINDOW_LOADED:"window.loaded",SWIPER_UPDATE:"swiper.update",MAP_LOADED:"map.loaded",ANALYTICS:"analytics",INPUT_AMOUNT_REMOVED:"input.amount.removed"},Cookies:{mandatory:"allowed_cookies_mandatory",service:"allowed_cookies_service",analytics:"allowed_cookies_analytics",id:"allowed_cookies_id"},Records:{PAGE:"page",GUIDE:"guide",INFO:"info",DOCUMENT:"document",SUGGESTION:"suggestion",SERVICE_POINT:"service_point",EXTERNAL_LINK:"link",EVENT:"event",BLOG:"blog"},Analytics:{MIXPANEL:"mp",GOOGLE_ANALYTICS:"ga",FACEBOOK:"fb",FACEBOOK_SDK:"fbsdk",PIWIK_PRO:"piwik"},Validator:{EMAIL:"mail",NUMERIC:"numeric",NONEMPTY:"nonempty"},LanguagesUid:{FR:0,DE:2,EN:3},Captcha:{SUM_CHALLENGE:"CaptchaChallengeSum",PICTOGRAM_CHALLENGE:"CaptchaChallengePictogram"},stepFormPageURL:"stepFormPageUrl",stepFormPageTitle:"stepFormPageTitle"}},1918:e=>{e.exports=function(e){var t=Object(e),n=[];for(var a in t)n.unshift(a);return function e(){for(;n.length;)if((a=n.pop())in t)return e.value=a,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},1968:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var u=function(e){function t(e,n){var o,s,l,u;return(0,a.A)(this,t),s=this,l=t,u=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,c()?Reflect.construct(l,u||[],(0,i.A)(s).constructor):l.apply(s,u))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.allItems=this.domElement.querySelectorAll(".js-sds-dropdown-item"),this.input=this.domElement.querySelector('INPUT[type="hidden"]')}},{key:"reattachEvents",value:function(){this.allItems=this.domElement.querySelectorAll(".js-sds-dropdown-item"),this.attachEvents()}},{key:"attachEvents",value:function(){var e=this;this.allItems.forEach(function(t){!1===t.classList.contains("has-sub-items")&&t.addEventListener("click",function(n){n.stopPropagation(),t.disabled||(e.fireInteractionEvent(),e.setValue(t.dataset.value),$(".js-sds-dropdown-selected-item").dropdown("toggle"),e.onChange(e.getName(),e.getValue()))})})}},{key:"getValue",value:function(){return this.input.value}},{key:"setValue",value:function(e){var t,n=this.domElement.querySelector('.js-sds-dropdown-item[data-value="'+e+'"]');n&&((n=n.cloneNode(!0)).classList.add("js-sds-dropdown-selected-item"),n.classList.remove("js-sds-dropdown-item"),n.dataset.display="static",n.dataset.toggle="dropdown",n.dataset.offset="0,8",null===(t=n.querySelector(".js-form-select-dropdown-chevron"))||void 0===t||t.classList.remove("d-none"),this.input.value=e,this.domElement.querySelector(".js-sds-dropdown-selected-item").outerHTML=n.outerHTML)}}])}(n(3525).A)},2086:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9296);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var c=function(e){function t(e,n){var o,s,c,u;return(0,a.A)(this,t),s=this,c=t,u=[e,n],c=(0,i.A)(c),(o=(0,r.A)(s,l()?Reflect.construct(c,u||[],(0,i.A)(s).constructor):c.apply(s,u))).attachEvents(),o}return(0,s.A)(t,e),(0,o.A)(t,[{key:"attachEvents",value:function(){var e=this;this.domElement.querySelectorAll('[type="radio"]').forEach(function(t){t.addEventListener("change",function(t){e.onChange(e.getName(),e.getValue())})})}},{key:"getValue",value:function(){var e;return null===(e=this.domElement.querySelector('[type="radio"]:checked'))||void 0===e?void 0:e.value}}])}(n(3525).A)},2474:(e,t,n)=>{"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>a})},2684:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var u=function(e){function t(e,n){var o,s,l,u;return(0,a.A)(this,t),s=this,l=t,u=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,c()?Reflect.construct(l,u||[],(0,i.A)(s).constructor):l.apply(s,u))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.input=this.domElement.querySelector('INPUT[type="checkbox"]'),this.name=this.input.getAttribute("name"),this.label=this.domElement.querySelector("LABEL"),this.error=this.domElement.querySelector(".sds-checkbox__error")}},{key:"attachEvents",value:function(){var e=this;this.label.addEventListener("click",function(t){e.fireInteractionEvent()}),this.input.addEventListener("change",function(t){e.onChange(e.getName(),e.getValue())})}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.input.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.input.classList.remove("is-invalid")}},{key:"getName",value:function(){return this.input.getAttribute("name")}},{key:"getValue",value:function(){return!0===this.input.checked}}])}(n(3525).A)},2696:(e,t,n)=>{var a=n(4319).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(a(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},2712:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(3525),u=n(1909),d=n(6325);function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}var h=function(e){function t(e,n){var o,s,l,c;return(0,a.A)(this,t),s=this,l=t,c=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,m()?Reflect.construct(l,c||[],(0,i.A)(s).constructor):l.apply(s,c))).domContainer=o.domElement.closest(".js-sds-form-input-range-container"),o.setRangeBehaviour(),o.attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r,l;(n=t,a="parse",o=this,r=3,l=(0,s.A)((0,i.A)(1&r?n.prototype:n),a,o),2&r&&"function"==typeof l?function(e){return l.apply(o,e)}:l)([]),this.name=this.domElement.getAttribute("name"),this.error=this.domElement.querySelector(".invalid-feedback"),this.format=this.domElement.dataset.format,null!==(e=this.domElement.dataset)&&void 0!==e&&e.values&&(this.shadowElement=this.domElement.nextElementSibling.classList.contains("js-sds-form-input-range-shadow")?this.domElement.nextElementSibling:null)}},{key:"attachEvents",value:function(){var e=this;this.domElement.addEventListener("input",function(t){e.setRangeBehaviour()}),this.domElement.addEventListener("change",function(t){e.setValue(t.currentTarget.value),e.shadowElement&&(e.shadowElement.value=e.getValue()),e.onChange(e.getName(),e.getValue())}),Events.register(u.A.Events.FORM_SLIDER_REBUILT,function(t){var n;if(t.formKey===e.key&&t.elementName===e.name)if(null!==(n=e.domElement.dataset)&&void 0!==n&&n.values){var a=[];t.values?(a=t.values,e.domElement.dataset.values=t.values.join(",")):a=e.domElement.dataset.values.split(","),e.reload(e.domElement.value,0,a.length-1)}else e.refresh();return!0}),Events.register(u.A.Events.FORM_SLIDER_SET_INDEX,function(t){if(t.name===e.name&&e.domElement.dataset.values){var n=e.domElement.dataset.values.split(",");e.reload(t.index,0,n.length-1)}return!0}),Events.register(u.A.Events.FORM_SLIDER_SET_VALUE,function(t){return t.name===e.name&&(e.setValue(t.value),e.setRangeBehaviour(t.value)),!0}),this.refresh()}},{key:"getValue",value:function(){var e,t,n=null;null!==(e=this.domElement.dataset)&&void 0!==e&&e.values?n=(null===(t=this.domElement.dataset)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.split(","))[this.domElement.value]:n=this.domElement.value;return n}},{key:"refresh",value:function(){this.reload(this.domElement.value,this.domElement.min,this.domElement.max)}},{key:"reload",value:function(e,t,n){var a=this.domElement;a.value=e,a.min=t,a.max=n,this.setMin(t),this.setMax(n),this.setRangeBehaviour()}},{key:"setRangeBehaviour",value:function(){var e=getComputedStyle(this.domElement),t=e.getPropertyValue("--custom-range-progress-color"),n=e.getPropertyValue("--custom-range-track-color"),a=100*(this.domElement.value-this.getMin())/(this.getMax()-this.getMin())+"%";this.domElement.style.backgroundImage="linear-gradient( to right, ".concat(t,", ").concat(t," ").concat(a,", ").concat(n," ").concat(a,")");var o=this.domElement.dataset.suffix?" "+this.domElement.dataset.suffix:"",r=this.domContainer.querySelector(".sds-range__indicator");if(r){var i,s,l;if(null!==(i=this.domElement.dataset)&&void 0!==i&&i.values)s=(null===(l=this.domElement.dataset)||void 0===l||null===(l=l.values)||void 0===l?void 0:l.split(","))[this.domElement.value];else s=this.domElement.value;r.innerHTML="<span>".concat(this.formatValue(s),"</span> ").concat(o),r.style.left="calc(".concat(a,")"),r.style.transform="translateX(-".concat(a,")")}}},{key:"getMin",value:function(){return this.domElement.min}},{key:"getMax",value:function(){return this.domElement.max}},{key:"setMin",value:function(e){var t;this.domElement.min=e;var n,a=e;null!==(t=this.domElement.dataset)&&void 0!==t&&t.values&&(a=(null===(n=this.domElement.dataset)||void 0===n?void 0:n.values.split(","))[e]);a=this.formatValue(a),this.domElement.value===e&&this.domElement.dataset.suffixsingle?a+=" "+this.domElement.dataset.suffixsingle:this.domElement.dataset.suffix&&(a+=" "+this.domElement.dataset.suffix),this.domContainer.querySelector(".sds-range__min").innerHTML=a}},{key:"setMax",value:function(e){var t;this.domElement.max=e;var n,a=e;null!==(t=this.domElement.dataset)&&void 0!==t&&t.values&&(a=(null===(n=this.domElement.dataset)||void 0===n?void 0:n.values.split(","))[e]);a=this.formatValue(a),this.domElement.dataset.suffix&&(a+=" "+this.domElement.dataset.suffix),this.domContainer.querySelector(".sds-range__max").innerHTML=a}},{key:"setValue",value:function(e){this.domElement.value=e,this.domElement.setAttribute("aria-valuetext",e)}},{key:"formatValue",value:function(e){return"amount"===this.format?d.A.formatAmount(e):e}},{key:"showError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.add("-error"),null===(t=this.error)||void 0===t||t.classList.add("d-block")}},{key:"hideError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.remove("-error"),null===(t=this.error)||void 0===t||t.classList.remove("d-block")}}])}(c.A)},2715:(e,t,n)=>{"use strict";function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}n.d(t,{A:()=>a})},2880:(e,t,n)=>{"use strict";function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{A:()=>a})},2937:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(5152),o=n(414),r=function(){return(0,o.A)(function e(){(0,a.A)(this,e)},null,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a={value:t};if(n>0){var o=new Date;o.setDate(o.getDate()+n),a.expiration=o.toString()}window.localStorage.setItem(e,JSON.stringify(a))}},{key:"get",value:function(e){var t=window.localStorage.getItem(e);if(t){if((t=JSON.parse(t)).expiration)if(new Date(t.expiration)<new Date)return window.localStorage.removeItem(e),null;return t.value}return null}},{key:"remove",value:function(e){window.localStorage.removeItem(e)}}])}()},3017:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var a=n(5152),o=n(414),r=n(9167),i=n(8887),s=n(3758),l=n(4797),c=n(5749),u=n(2086),d=n(2712),m=n(4969),h=n(9214),f=n(7569),p=n(3160),v=n(4079),y=n(6584),E=n(5089),g=n(8589),_=n(2684),A=n(7153),b=n(1968),k=n(1506),S=n(79),w=n(9799),T=n(4095),L=n(5021),M=n(9528),O=n(1909),I=n(4033),C=function(){return(0,o.A)(function e(){(0,a.A)(this,e),this.formsInstances={},this.components={},this.formsQuery="FORM.bcee-form[data-key],FORM.sds-form[data-key]",this.processForms()},[{key:"processForms",value:function(){var e=this;Events.register(O.A.Events.WINDOW_LOADED,function(){for(var t in document.querySelectorAll(e.formsQuery).forEach(function(t){var n=t.getAttribute("data-key");t.classList.contains("bcee-form"),e.formsInstances[n]=new I.A(n,t)}),e.formsInstances){var n=e.formsInstances[t];e.attachFormSubmit(n),e.attachFormEvents(n),e.attachFormInputs(n),n.shouldAutorun()&&e.submitFormInstance(n)}return!0},O.A.Priority.EXTRAHIGH)}},{key:"attachFormSubmit",value:function(e){var t=this,n=e.domElement,a=e.key;n.addEventListener("submit",function(e){e.stopPropagation(),e.preventDefault(),t.clearFormErrors(a);var o=t.getFormFields(n);Events.fire(O.A.Events.AJAX_FORM_REQUESTED,{formKey:a}),Events.fire(O.A.Events.AJAX_FORM_SUBMIT,{formKey:a,fields:o})})}},{key:"attachFormEvents",value:function(e){var t=this,n=e.key;Events.register(O.A.Events.AJAX_FORM_SUBMIT,function(e){var a=e.formKey,o=e.fields;return a===n&&(t.toggleFormLoadingState(a),M.A.post(a,o,function(e){Events.fire(O.A.Events.AJAX_FORM_RESPONDED,{response:e,formKey:a}),t.validateFormElements(a)})),!0}),Events.register(O.A.Events.FORM_ELEMENT_INTERACTED,function(t){return t.formKey===n&&(e.interacted||(e.interacted=!0,Events.fire(O.A.Events.ANALYTICS,{category:"form",action:t.key,name:"interacted",value:null}))),!0}),Events.register(O.A.Events.FORM_ELEMENT_CHANGED,function(a){if(a.formKey===n&&e.shouldAutosubmit()){var o=!0;a.elementNative&&(o=!a.elementNative.classList.contains("static")),o&&t.submitFormInstance(e)}return!0},O.A.Priority.LOW),Events.register(O.A.Events.AJAX_FORM_RESPONDED,function(e){var a=e.formKey;return a===n&&t.toggleFormLoadingState(a),!0},O.A.Priority.HIGH)}},{key:"getFormFields",value:function(e){var t=new FormData(e);return Array.from(t.entries()).map(function(e){return{name:e[0],value:e[1]}})}},{key:"getElementsMap",value:function(){return{"js-form-captcha":r.A,"js-sds-form-multicheckbox":L.A,"js-sds-form-bubbles-radios":u.A,"js-sds-form-input-range":d.A,"js-sds-form-hidden":l.A,"js-file-upload":s.A,"js-sds-input-calendar":i.A,"js-sds-form-input-calendar":i.A,"js-sds-select-remote":w.A,"js-sds-form-checkbox-group":A.A,"js-sds-form-colorpicker":T.A,"js-sds-form-input":h.A,"js-sds-form-input-amount":c.A,"js-sds-form-checkbox":_.A,"js-sds-form-select":g.A,"js-sds-form-select-dropdown":b.A,"js-sds-form-spot-select-list":E.A,"js-sds-form-textarea":v.A,"js-sds-form-toggleTab":k.A,"js-sds-form-radio-group":S.A,"js-sds-form-input-switch":m.A,"js-sds-form-input-phone":f.A,"js-sds-form-input-year":p.A,"js-sds-form-input-list":y.A,"js-sds-form-checkbox-spot":_.A}}},{key:"attachFormInputs",value:function(e){var t=this.getElementsMap();Array.from(e.domElement.querySelectorAll("."+Object.keys(t).join(",."))).forEach(function(n){if(n)for(var a=0,o=Object.keys(t);a<o.length;a++){var r=o[a];if(n.classList.contains(r)){var i=new t[r](n,e.domElement);e.addComponent(i);break}}})}},{key:"submitFormInstance",value:function(e){this.submitForm(e.domElement)}},{key:"submitForm",value:function(e){e.dispatchEvent?e.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})):console.warn("Can't access dispatchEvent function of form element")}},{key:"getFormInstanceForKey",value:function(e){return this.formsInstances[e]?this.formsInstances[e]:null}},{key:"getFormWithKey",value:function(e){return this.formsInstances[e]?this.formsInstances[e].domElement:null}},{key:"getFormElements",value:function(e){return this.formsInstances[e]?this.formsInstances[e].components:{}}},{key:"getFormValues",value:function(e){var t=[],n=this.getFormElements(e);return Object.keys(n).map(function(e){var a=n[e];t=t.concat(a.getValueObject())}),t}},{key:"getFormElement",value:function(e,t){var n=this.getFormElements(e);return n[t]?n[t]:null}},{key:"clearFormErrors",value:function(e){var t=this.getFormElements(e);if(t)for(var n=0,a=Object.values(t);n<a.length;n++){a[n].hideError()}}},{key:"validateFormElements",value:function(e){var t=this.getFormElements(e);if(t)for(var n=0,a=Object.values(t);n<a.length;n++){var o=a[n];if(o.hasValidators()){var r=o.getName(),i=o.getValue();r&&o.validateAll(r,i)}}}},{key:"toggleFormLoadingState",value:function(e){var t;null===(t=this.formsInstances[e].domElement.querySelector('[type="submit"]'))||void 0===t||t.classList.toggle("-isLoading")}}])}()},3160:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(3525),u=n(8811);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}var m=function(e){function t(e){var n,o,s,l,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,a.A)(this,t),o=this,s=t,l=[e,c],s=(0,i.A)(s),""!==(n=(0,r.A)(o,d()?Reflect.construct(s,l||[],(0,i.A)(o).constructor):s.apply(o,l))).domElement.value?n.updateShadowValue(n.domElement.value):n.domElement.hasAttribute("placeholder")&&n.updateShadowValue(n.domElement.getAttribute("placeholder")),n.attachEvents(),n}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.shadow=this.domElement.parentElement.querySelector(".sds-input__shadowInput"),this.label=this.domElement.parentElement.parentElement.querySelector("LABEL"),this.name=this.domElement.getAttribute("name"),this.error=this.domElement.parentElement.querySelector(".invalid-feedback")}},{key:"attachEvents",value:function(){var e=this;this.domElement.addEventListener("keydown",function(e){var t=!1;u.A.isMobile()?u.A.isIOS()?8===e.keyCode||e.keyCode>=48&&e.keyCode<=57||(t=!1):isNaN(e.key)&&8!==e.keyCode&&9!==e.keyCode&&37!==e.keyCode&&39!==e.keyCode&&46!==e.keyCode&&(t=!1):!isNaN(e.key)||8===e.keyCode||9===e.keyCode||13===e.keyCode||27===e.keyCode||46===e.keyCode||e.keyCode>=35&&e.keyCode<=40||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||(t=!1),t&&(e.stopPropagation(),e.preventDefault())}),this.domElement.addEventListener("input",function(t){""!==e.domElement.value?e.updateShadowValue(e.domElement.value):e.domElement.hasAttribute("placeholder")&&e.updateShadowValue(e.domElement.getAttribute("placeholder"))}),this.domElement.addEventListener("blur",function(t){""!==e.domElement.value?e.updateShadowValue(e.domElement.value):e.domElement.hasAttribute("placeholder")&&e.updateShadowValue(e.domElement.getAttribute("placeholder")),e.onChange(e.getName(),e.getValue())})}},{key:"updateShadowValue",value:function(e){this.shadow.querySelector(".sds-input__shadowValue").innerHTML=e}},{key:"getValue",value:function(){return this.domElement.value}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.domElement.value=e,t||this.onChange(this.getName(),e)}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.domElement.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.domElement.classList.remove("is-invalid")}}])}(c.A)},3249:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearAllBodyScrollLocks:()=>y,disableBodyScroll:()=>v,enableBodyScroll:()=>E});var a=!1;if("undefined"!=typeof window){var o={get passive(){a=!0}};window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}var r="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),i=[],s=!1,l=-1,c=void 0,u=void 0,d=void 0,m=function(e){return i.some(function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))})},h=function(e){var t=e||window.event;return!!m(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},f=function(){void 0!==d&&(document.body.style.paddingRight=d,d=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)},p=function(){if(void 0!==u){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=u.position,document.body.style.top=u.top,document.body.style.left=u.left,window.scrollTo(t,e),u=void 0}},v=function(e,t){if(e){if(!i.some(function(t){return t.targetElement===e})){var n={targetElement:e,options:t||{}};i=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i),[n]),r?window.requestAnimationFrame(function(){if(void 0===u){u={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,a=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=a-window.innerHeight;e&&t>=a&&(document.body.style.top=-(t+e))})},300)}}):function(e){if(void 0===d){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var a=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);d=document.body.style.paddingRight,document.body.style.paddingRight=a+n+"px"}}void 0===c&&(c=document.body.style.overflow,document.body.style.overflow="hidden")}(t),r&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(l=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-l;!m(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?h(e):e.stopPropagation())}(t,e)},s||(document.addEventListener("touchmove",h,a?{passive:!1}:void 0),s=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},y=function(){r&&(i.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),s&&(document.removeEventListener("touchmove",h,a?{passive:!1}:void 0),s=!1),l=-1),r?p():f(),i=[]},E=function(e){e?(i=i.filter(function(t){return t.targetElement!==e}),r&&(e.ontouchstart=null,e.ontouchmove=null,s&&0===i.length&&(document.removeEventListener("touchmove",h,a?{passive:!1}:void 0),s=!1)),r?p():f()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")}},3492:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(6284);function o(e){if(Array.isArray(e))return(0,a.A)(e)}},3525:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(4586),o=n(5152),r=n(414),i=n(1909),s=function(){function e(){(0,o.A)(this,e)}return(0,r.A)(e,null,[{key:"empty",value:function(e){return""===String(e).trim()||null==e}},{key:"isEmpty",value:function(t){return e.empty(t)}},{key:"phoneNumber",value:function(e){var t=e.match(/([0-9+\\(\\) ]*)/g);return t&&e===t[0]}},{key:"isLuMobilePhoneNumber",value:function(e){var t=e.match(/^6(2|6|9)1([0-9]{6})$/g);return t&&e===t[0]}},{key:"mail",value:function(e){var t=e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);return t&&e===t[0]}},{key:"isMail",value:function(t){return e.mail(t)}},{key:"isNumeric",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}}])}();function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var d=function(){return(0,r.A)(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,o.A)(this,e),this.domElement=t,this.formElement=n,this.domContainer=null==t?void 0:t.closest(".form-group"),this.element=$(t),this.form=$(n),this.parse(),this.parseValidators()},[{key:"parse",value:function(){this.key=this.formElement.dataset.key,this.name=this.domElement.dataset.name,this.error=this.domElement.parentElement.querySelector(".invalid-feedback"),this.label=this.domElement.parentElement.querySelector("LABEL")}},{key:"parseValidators",value:function(){var e,t=null===(e=this.domElement.dataset)||void 0===e?void 0:e.validator;this.validators=t&&t.length>0?String(t).split(","):[]}},{key:"attachEvents",value:function(){}},{key:"getName",value:function(){return this.name}},{key:"getType",value:function(){return this.constructor.name}},{key:"getValue",value:function(){return null}},{key:"setValue",value:function(e){}},{key:"getOptions",value:function(){return null}},{key:"getError",value:function(){return this.error}},{key:"getLabel",value:function(){return this.label}},{key:"getValueObject",value:function(){var e={name:this.getName(),type:this.getType(),value:this.getValue()},t=this.getOptions();return t&&(e.options=t),[e]}},{key:"onChange",value:function(e,t){this.hasValidators()&&!this.validateAll(e,t)||this.fireChangeEvent({element:this.element,elementNative:this.domElement,name:e,value:t,formKey:this.key})}},{key:"fireChangeEvent",value:function(e){Events.fire(i.A.Events.FORM_ELEMENT_CHANGED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({key:this.key},e))}},{key:"fireInteractionEvent",value:function(){Events.fire(i.A.Events.FORM_ELEMENT_INTERACTED,{key:this.key,name:this.name})}},{key:"showError",value:function(){var e,t,n;(this.hideSuccess(),null===(e=this.label)||void 0===e||e.classList.add("error"),this.domElement.classList.add("error"),null!==(t=this.error)&&void 0!==t&&t.innerHTML)&&(null===(n=this.error)||void 0===n||n.classList.add("show"))}},{key:"addError",value:function(e){}},{key:"hideError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.remove("error"),this.domElement.classList.remove("error"),null===(t=this.error)||void 0===t||t.classList.remove("show")}},{key:"setError",value:function(e){this.error?this.error.innerHTML=e:console.warn("No error element found for ".concat(this.getType()))}},{key:"showSuccess",value:function(){var e;this.hideError(),null===(e=this.label)||void 0===e||e.classList.add("success"),this.domElement.classList.add("success")}},{key:"hideSuccess",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("success"),this.element.classList.remove("success")}},{key:"hideErrorOrSuccess",value:function(){this.hideError(),this.hideSuccess()}},{key:"hasValidators",value:function(){return this.validators.length>0}},{key:"validateAll",value:function(e,t){var n,a=!0,o=l(this.validators);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(!this.validate(r,e,t)){a=!1;break}}}catch(e){o.e(e)}finally{o.f()}return a?this.showSuccess():this.showError(),a}},{key:"validate",value:function(e,t,n){switch(e){case i.A.Validator.EMAIL:return s.isMail(n);case i.A.Validator.NUMERIC:return s.isNumeric(n);case i.A.Validator.NONEMPTY:return!s.isEmpty(n);default:console.error('Unknown validator "'+e+'"')}return!1}}])}()},3758:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(5153),o=n(5152),r=n(414),i=n(5309),s=n(2715),l=n(9296),c=n(6325);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var d=function(e){function t(e,n){var a,r,l,c;return(0,o.A)(this,t),r=this,l=t,c=[e,n],l=(0,s.A)(l),(a=(0,i.A)(r,u()?Reflect.construct(l,c||[],(0,s.A)(r).constructor):l.apply(r,c))).attachEvents(),a}return(0,l.A)(t,e),(0,r.A)(t,[{key:"parse",value:function(){this.input=this.domElement.querySelector("INPUT.js-file-upload-input"),this.name=this.input.getAttribute("name"),this.fileMeta=this.domElement.querySelector(".sds-imgUpload__meta"),this.fileTitle=this.domElement.querySelector(".sds-imgUpload__title"),this.actions=this.domElement.querySelector(".js-file-upload-actions"),this.actionClear=this.domElement.querySelector(".js-file-upload-action-clear"),this.types=JSON.parse(this.domElement.dataset.types||"[]")}},{key:"attachEvents",value:function(){var e,t=this;null===(e=this.actionClear)||void 0===e||e.addEventListener("click",function(e){t.clear(),e.preventDefault()}),this.domElement.addEventListener("dragleave",function(e){t.domElement.classList.remove("-loading"),e.preventDefault()}),this.domElement.addEventListener("dragenter",function(e){t.domElement.classList.add("-loading"),e.preventDefault()}),this.domElement.addEventListener("dragover",function(e){e.preventDefault()}),this.domElement.addEventListener("drop",function(e){t.domElement.classList.remove("-loading"),e.preventDefault();var n=[];e.dataTransfer.items?(0,a.A)(e.dataTransfer.items).forEach(function(e,a){if("file"===e.kind){var o=e.getAsFile();t.checkFile(o)&&n.push(o)}}):(0,a.A)(e.dataTransfer.files).forEach(function(e,a){t.checkFile(e)&&n.push(e)}),n.length>0&&(t.domElement.classList.add("-uploadComplete"),t.processFile(n[0]))}),this.input.addEventListener("change",function(){t.domElement.classList.remove("-loading");var e=t.input.files;e.length>0&&t.checkFile(e[0])&&(t.domElement.classList.add("-uploadComplete"),t.processFile(e[0]))},!1)}},{key:"checkFile",value:function(e){return this.types.indexOf(e.type)>-1}},{key:"processFile",value:function(e){this.fileTitle.innerHTML=e.name,this.fileMeta.innerHTML=c.A.humanReadableFileSize(e.size),this.actions.classList.remove("d-none");var t=new DataTransfer;t.items.add(e),this.input.files=t.files}},{key:"clear",value:function(){this.actions.classList.add("d-none"),this.domElement.classList.remove("-uploadComplete"),this.input.value="",this.fileTitle.innerHTML=this.fileTitle.dataset.value,this.fileMeta.innerHTML=this.fileMeta.dataset.value}}])}(n(3525).A)},4033:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(5152),o=n(414),r=function(){return(0,o.A)(function e(t,n){(0,a.A)(this,e),this.key=t,this.domElement=n,this.autosubmit="1"===this.domElement.getAttribute("data-autosubmit"),this.autorun="1"===this.domElement.getAttribute("data-init"),this.interacted=!1,this.components={}},[{key:"getKey",value:function(){return this.key}},{key:"getDOMElement",value:function(){return this.domElement}},{key:"addComponent",value:function(e){this.components[e.getName()]=e}},{key:"getComponents",value:function(){return this.components}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"hasComponent",value:function(e){return-1!==this.components.indexOf(e)}},{key:"shouldAutosubmit",value:function(){return!0===this.autosubmit}},{key:"shouldAutorun",value:function(){return!0===this.autorun}},{key:"submit",value:function(){this.domElement.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}}])}()},4079:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(7545),o=n(5152),r=n(414),i=n(5309),s=n(2715),l=n(9102),c=n(9296);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var d=function(e){function t(e,n){var a,r,l,c;return(0,o.A)(this,t),r=this,l=t,c=[e,n],l=(0,s.A)(l),(a=(0,i.A)(r,u()?Reflect.construct(l,c||[],(0,s.A)(r).constructor):l.apply(r,c))).attachEvents(),a}return(0,c.A)(t,e),(0,r.A)(t,[{key:"parse",value:function(){var e,n,a,o,r,i;(n=t,a="parse",o=this,r=3,i=(0,l.A)((0,s.A)(1&r?n.prototype:n),a,o),2&r&&"function"==typeof i?function(e){return i.apply(o,e)}:i)([]),this.name=this.domElement.getAttribute("name"),this.label=null===(e=this.domElement.parentElement)||void 0===e||null===(e=e.parentElement)||void 0===e?void 0:e.querySelector(".sds-label"),this.error=this.domElement.parentElement.querySelector(".invalid-feedback")}},{key:"attachEvents",value:function(){var e,t=this;this.domElement.addEventListener("focus",function(e){return t.fireInteractionEvent()}),this.domElement.addEventListener("change",function(e){return t.onChange(t.getName(),t.getValue())}),this.domElement.addEventListener("keyup",function(n){var o=t.domElement.getAttribute("keyup");"undefined"!==(0,a.A)(o)&&!1!==o&&(clearTimeout(e),e=setTimeout(function(e){t.onChange(t.getName(),t.getValue())},250))});var n=this.domElement.offsetHeight-this.domElement.clientHeight;this.domElement.addEventListener("input",function(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+n+"px"})}},{key:"getValue",value:function(){return this.domElement.value}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.domElement.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.domElement.classList.remove("is-invalid")}}])}(n(3525).A)},4095:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(3525),u=n(1909);const d=function(){function e(t){(0,a.A)(this,e),this._data=new Object(t)}return(0,o.A)(e,[{key:"getData",value:function(){return this._data}},{key:"getValues",value:function(){return _.map(this._data,function(e,t){return e})}},{key:"has",value:function(e){return this._data.hasOwnProperty(e)}},{key:"get",value:function(e){return this.has(e)?this._data[e]:""}},{key:"set",value:function(e,t){this._data[e]=t}},{key:"getObject",value:function(t){return new e(this.has(t)?this.get(t):{})}}])}();var m=n(1515);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}var f=function(e){function t(e,n){var o,s,l,c;return(0,a.A)(this,t),s=this,l=t,c=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,h()?Reflect.construct(l,c||[],(0,i.A)(s).constructor):l.apply(s,c))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.parseColorOptions()}},{key:"parseColorOptions",value:function(){this.colorOptions=this.domElement.querySelectorAll('INPUT[type="radio"]')}},{key:"attachColorOptionsEvents",value:function(){var e=this;this.colorOptions.forEach(function(t){t.addEventListener("click",function(n){if(n.stopPropagation(),!1===t.disabled){e.fireInteractionEvent();var a=e.domElement.querySelector('INPUT[type="radio"]:checked');a&&e.onChange(e.domElement.getAttribute("name"),a.value)}})})}},{key:"attachEvents",value:function(){var e=this;this.attachColorOptionsEvents(),Events.register(u.A.Events.FORM_COLOR_REBUILD,function(t){if(t.elementName===e.getName()&&t.formKey===e.key){for(var n=e.domElement.querySelector(".list-unstyled");n.firstChild;)n.removeChild(n.firstChild);var a=!1;for(var o in t.colors){var r=new d(t.colors[o]),i={id:"carColor-"+r.get("colorcode"),name:"carColor",class:"sr-only",type:"radio",value:r.get("colorcode")};t.selected===r.get("colorcode")?(a=!0,i.checked="checked"):a||(i.checked="checked",a=!0),n.appendChild(new m.A("li",{},new m.A("label",{class:"sds-captcha__item",for:"carColor-"+r.get("colorcode")},[new m.A("input",i,[]),new m.A("span",{class:"sds-badgeSelector sds-captcha__selectorShape"},[new m.A("span",{class:"sds-colorOption",style:"background-color: "+r.get("hexcode")},[]),new m.A("span",{class:"sds-badgeSelector__text"},r.get("name"))])])))}e.parseColorOptions(),e.attachColorOptionsEvents()}})}},{key:"getValue",value:function(){var e;return null===(e=this.domElement.querySelector('INPUT[type="radio"]:checked'))||void 0===e?void 0:e.value}}])}(c.A)},4319:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4430:(e,t,n)=>{"use strict";function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{A:()=>a})},4586:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(205);function o(e,t,n){return(t=(0,a.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4686:(e,t,n)=>{var a=n(6699),o=n(645);e.exports=function e(t,n){function r(e,o,i,s){try{var l=t[e](o),c=l.value;return c instanceof a?n.resolve(c.v).then(function(e){r("next",e,i,s)},function(e){r("throw",e,i,s)}):n.resolve(c).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,s)})}catch(e){s(e)}}var i;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(e,t,a){function o(){return new n(function(t,n){r(e,a,t,n)})}return i=i?i.then(o,o):o()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},4797:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9296);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var c=function(e){function t(e,n){return(0,a.A)(this,t),o=this,s=t,c=[e,n],s=(0,i.A)(s),(0,r.A)(o,l()?Reflect.construct(s,c||[],(0,i.A)(o).constructor):s.apply(o,c));var o,s,c}return(0,s.A)(t,e),(0,o.A)(t,[{key:"getName",value:function(){return this.domElement.getAttribute("name")}},{key:"getValue",value:function(){return this.domElement.value}}])}(n(3525).A)},4969:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var u=function(e){function t(e,n){var o,s,l,u;return(0,a.A)(this,t),s=this,l=t,u=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,c()?Reflect.construct(l,u||[],(0,i.A)(s).constructor):l.apply(s,u))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.input=this.domElement.querySelector("INPUT"),this.name=this.getName()}},{key:"getName",value:function(){return this.input.getAttribute("name")}},{key:"attachEvents",value:function(){var e=this;this.input.addEventListener("change",function(t){e.onChange(e.getName(),e.getValue())})}},{key:"getValue",value:function(){return this.input.value}}])}(n(3525).A)},5021:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(414),o=n(5152),r=n(5309),i=n(2715),s=n(9296);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var c=function(e){function t(e,n){var a,s,c,u;return(0,o.A)(this,t),s=this,c=t,u=[e,n],c=(0,i.A)(c),(a=(0,r.A)(s,l()?Reflect.construct(c,u||[],(0,i.A)(s).constructor):c.apply(s,u))).attachEvents(),a}return(0,s.A)(t,e),(0,a.A)(t)}(n(7153).A)},5089:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var u=function(e){function t(e,n){var o,s,l,u;return(0,a.A)(this,t),s=this,l=t,u=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,c()?Reflect.construct(l,u||[],(0,i.A)(s).constructor):l.apply(s,u))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.error=this.domElement.parentElement.nextElementSibling,this.errorElements=this.domElement.querySelectorAll(".js-sds-error-element")}},{key:"attachEvents",value:function(){var e=this;this.domElement.querySelectorAll('INPUT[type="radio"]').forEach(function(t){t.addEventListener("change",function(t){e.onChange(e.getName(),e.getValue())})})}},{key:"getValue",value:function(){var e;return null===(e=this.domElement.querySelector('INPUT[type="radio"]:checked'))||void 0===e?void 0:e.value}},{key:"showError",value:function(){var e;null===(e=this.error)||void 0===e||e.classList.add("d-block"),this.errorElements.forEach(function(e){e.classList.add("is-invalid")})}},{key:"hideError",value:function(){var e;null===(e=this.error)||void 0===e||e.classList.remove("d-block"),this.errorElements.forEach(function(e){e.classList.remove("is-invalid")})}}])}(n(3525).A)},5152:(e,t,n)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{A:()=>a})},5153:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(3492),o=n(4430),r=n(7985),i=n(2880);function s(e){return(0,a.A)(e)||(0,o.A)(e)||(0,r.A)(e)||(0,i.A)()}},5309:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(7545),o=n(2474);function r(e,t){if(t&&("object"==(0,a.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.A)(e)}},5488:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9296),l=n(8631),c=n(1909),u=n(7481);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}var m=function(e){function t(){var e,n,o,s;return(0,a.A)(this,t),n=this,o=t,o=(0,i.A)(o),(e=(0,r.A)(n,d()?Reflect.construct(o,s||[],(0,i.A)(n).constructor):o.apply(n,s))).trackers=[],e}return(0,s.A)(t,e),(0,o.A)(t,[{key:"name",value:function(){return c.A.Analytics.PIWIK_PRO}},{key:"event",value:function(e){window._paq&&(u.A.output("PiwikPro","event",e),window._paq.push(["trackEvent",e.category,e.action,e.name,e.value]),window.dataLayer=window.dataLayer||[],window.dataLayer.push({category:e.category,action:e.action,name:e.name,value:e.value}))}}])}(l.A)},5726:(e,t,n)=>{var a=n(645);function o(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var t,n,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function l(e,o,r,i){var s=o&&o.prototype instanceof u?o:u,l=Object.create(s.prototype);return a(l,"_invoke",function(e,a,o){var r,i,s,l=0,u=o||[],d=!1,m={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return r=e,i=0,s=t,m.n=n,c}};function h(e,a){for(i=e,s=a,n=0;!d&&l&&!o&&n<u.length;n++){var o,r=u[n],h=m.p,f=r[2];e>3?(o=f===a)&&(s=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=t):r[0]<=h&&((o=e<2&&h<r[1])?(i=0,m.v=a,m.n=r[1]):h<f&&(o=e<3||r[0]>a||a>f)&&(r[4]=e,r[5]=a,m.n=f,i=0))}if(o||e>1)return c;throw d=!0,a}return function(o,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,f),i=u,s=f;(n=i<2?t:s)||!d;){r||(i?i<3?(i>1&&(m.n=-1),h(i,s)):m.n=s:m.v=s);try{if(l=2,r){if(i||(o="next"),n=r[o]){if(!(n=n.call(r,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,i<2&&(i=0)}else 1===i&&(n=r.return)&&n.call(r),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);r=t}else if((n=(d=m.n<0)?s:e.call(a,m))!==c)break}catch(e){r=t,i=1,s=e}finally{l=1}}return{value:n,done:d}}}(e,r,i),!0),l}var c={};function u(){}function d(){}function m(){}n=Object.getPrototypeOf;var h=[][i]?n(n([][i]())):(a(n={},i,function(){return this}),n),f=m.prototype=u.prototype=Object.create(h);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,a(e,s,"GeneratorFunction")),e.prototype=Object.create(f),e}return d.prototype=m,a(f,"constructor",m),a(m,"constructor",d),d.displayName="GeneratorFunction",a(m,s,"GeneratorFunction"),a(f),a(f,s,"Generator"),a(f,i,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(e.exports=o=function(){return{w:l,m:p}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},5749:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(3525),u=n(6325),d=n(1909),m=n(8811);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}var f=function(e){function t(e,n){var o,s,l,c;if((0,a.A)(this,t),s=this,l=t,c=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,h()?Reflect.construct(l,c||[],(0,i.A)(s).constructor):l.apply(s,c))).readData(),o.attachEvents(),""!==o.hiddenValue.value){var d=o.getValue();String(d).indexOf(",")>=0?o.updateValue(u.A.formattedAmountToFloat(d)):o.updateValue(d)}else o.input.hasAttribute("placeholder")&&o.updateShadowValue(o.input.getAttribute("placeholder"));var m=o.processAmount(o.getValue());return m>0&&(o.hiddenValue.value=m,o.updateShadowValue(u.A.formatAmount(m)),o.input.value=u.A.formatAmount(m)),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.input=this.domElement.querySelector("INPUT.sds-input-amount"),this.shadow=this.domElement.querySelector(".sds-input__shadowInput"),this.hiddenValue=this.domElement.querySelector("INPUT.input-hidden-value"),this.name=this.input.getAttribute("name"),this.enableDecimal=1===parseInt(this.domElement.dataset.decimal),this.error=this.domElement.querySelector(".invalid-feedback")}},{key:"readData",value:function(){this.min=parseFloat(this.domElement.dataset.min)||0,this.zero="0"!==this.domElement.dataset.zero,this.max=parseFloat(this.domElement.dataset.max)||999999999,this.domElement.classList.contains("hide-currency")?this.currency="":this.currency=this.domElement.dataset.currency||"",this.step=this.domElement.dataset.step||1,this.updateShadowValue(this.input.value);var e=this.domElement.querySelector(".js-range-values");e&&(e.innerHTML="min. "+u.A.formatAmount(this.min,!1,!1)+" "+this.currency+" - max. "+u.A.formatAmount(this.max,!1,!1)+" "+this.currency)}},{key:"attachEvents",value:function(){var e,t=this;this.input.addEventListener("keydown",function(e){var n=!1;m.A.isMobile()?m.A.isIOS()?8===e.keyCode||e.keyCode>=48&&e.keyCode<=57||t.enableDecimal&&(","===e.key||"."===e.key)||(n=!0):!isNaN(e.key)||8===e.keyCode||9===e.keyCode||37===e.keyCode||39===e.keyCode||46===e.keyCode||t.enableDecimal&&(","===e.key||"."===e.key)||(n=!0):!isNaN(e.key)||8===e.keyCode||9===e.keyCode||27===e.keyCode||e.keyCode>=35&&e.keyCode<=40||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||t.enableDecimal&&(","===e.key||"."===e.key)||(13===e.keyCode?(n=!0,t.input.blur()):n=!0),n&&(e.stopPropagation(),e.preventDefault())}),this.input.addEventListener("input",function(e){""!==t.input.value?t.updateShadowValue(t.input.value,!0):t.input.hasAttribute("placeholder")&&t.updateShadowValue(t.input.getAttribute("placeholder"))}),this.input.addEventListener("focus",function(e){if(t.fireInteractionEvent(),""!==t.input.value){var n=u.A.formattedAmountToFloat(t.input.value);t.input.value=n,t.updateShadowValue(n)}0===parseFloat(t.input.value)&&t.input.select()}),this.input.addEventListener("blur",function(e){""!==t.input.value?t.updateValue(t.processAmount(t.input.value)):t.input.hasAttribute("placeholder")&&t.updateShadowValue(t.input.getAttribute("placeholder"))}),Events.register(d.A.Events.FORM_INPUT_REBUILT,function(e){e.formKey===t.key&&e.elementName===t.name&&(t.readData(),u.A.formattedAmountToFloat(t.input.value)>t.max&&t.updateValue(t.max));return!0}),null===(e=this.domElement.querySelector(".js-delete-input"))||void 0===e||e.addEventListener("click",function(e){var t=e.currentTarget.closest(".sds-input").querySelector('input[type="text"]');e.currentTarget.closest(".sds-input").querySelector('input[type="hidden"]').value=0,t.value="",Events.fire(d.A.Events.INPUT_AMOUNT_REMOVED,{name:t.name})})}},{key:"processAmount",value:function(e){return this.enableDecimal&&(e=String(e).replace(",",".")),this.zero&&0===e||(e>this.max?e=this.max:e<this.min&&(e=this.min)),isNaN(e)&&(e=this.min),e=u.A.roundDecimal(e,2),this.step>1&&(e=Math.round(e/this.step)*this.step),e}},{key:"updateValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=u.A.formatAmount(e);this.input.value=n,this.updateShadowValue(n,t),this.setValue(e,t)}},{key:"updateShadowValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.shadow.querySelector(".sds-input__shadowValue").innerHTML=e,this.shadow.querySelector(".sds-input__shadowCurrency").innerHTML=this.currency,t||this.shadow.classList.remove("d-none")}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.input.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.input.classList.remove("is-invalid")}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];parseFloat(this.hiddenValue.value)!==e&&(this.hiddenValue.value=e,t||this.onChange(this.getName(),e))}},{key:"getValue",value:function(){return""===this.hiddenValue.value||isNaN(this.hiddenValue.value)?0:parseFloat(this.hiddenValue.value)}}])}(c.A)},5799:(e,t,n)=>{var a=n(7048)();e.exports=a;try{regeneratorRuntime=a}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},5800:(e,t,n)=>{var a=n(5726),o=n(4686);e.exports=function(e,t,n,r,i){return new o(a().w(e,t,n,r),i||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},6284:(e,t,n)=>{"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,{A:()=>a})},6325:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(5152),o=n(414),r=function(){function e(){(0,a.A)(this,e)}return(0,o.A)(e,null,[{key:"formatAmount",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,r=Number(t)+"";n&&(r=(r>0?"+":"")+r);var i=(r=r.replace(/\./g,",")).toString().split(",");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),!0===a&&(i[1]=e.padEnd(void 0===i[1]?"":i[1],o,"0")),i.join(",")}},{key:"formattedAmountToFloat",value:function(e){return parseFloat(String(e).replace(/,00$/,"").replace("+","").replace(/\./g,"").replace(/\,/g,"."))}},{key:"cleanFormattedAmount",value:function(e){return String(e).replace(/,00$/,"").replace("+","").replace(/\./g,"")}},{key:"roundDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}},{key:"getMonthlyFee",value:function(e,t,n){var a=Number(e),o=Number(t),r=Number(n);if(0==o)return Math.round(a/(12*r)*100)/100;var i=1+365*o/400/360,s=Math.pow(Math.pow(i,4),1/12),l=a*((s-1)/(1-Math.pow(s,12*-r)));return Math.round(100*l)/100}},{key:"ellipsis",value:function(e,t){e=e.substr(0,Math.max(0,t))}},{key:"padEnd",value:function(e,t,n){if(String.prototype.padEnd)return e.padEnd(t,n);if((t=Math.floor(t)||0)<e.length)return String(e);n=n?String(n):" ";for(var a="",o=t-e.length,r=0;a.length<o;)n[r]||(r=0),a+=n[r],r++;return String(e).slice(0)+a}},{key:"humanReadableFileSize",value:function(e){var t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1),a=e/Math.pow(1024,n);return 0===n?"".concat(e," bytes"):"".concat(a.toFixed(2)," ").concat(t[n])}}])}()},6330:(e,t,n)=>{"use strict";function a(e,t,n,a,o,r,i){try{var s=e[r](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function s(e){a(i,o,r,s,l,"next",e)}function l(e){a(i,o,r,s,l,"throw",e)}s(void 0)})}}n.d(t,{A:()=>o})},6477:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(2715);function o(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=(0,a.A)(e)););return e}},6482:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(5152),o=n(414),r=function(){return(0,o.A)(function e(t,n,o,r){(0,a.A)(this,e),this.protocol=String(t).replace(":",""),this.host=n,this.pathname=o,this.search=r,this.params=this.parseArguments()},[{key:"parseArguments",value:function(){if("string"!=typeof this.search||0==this.search.length)return{};for(var e,t,n,a=this.search.substring(1).split("&"),o=a.length,r={},i=0;i<o;i++)e=a[i].split("="),0!=(t=decodeURIComponent(e[0])).length&&(n=decodeURIComponent(e[1]),void 0===r[t]?r[t]=n:r[t]instanceof Array?r[t].push(n):r[t]=[r[t],n]);return r}},{key:"removeParam",value:function(e){this.params.hasOwnProperty(e)&&delete this.params[e]}},{key:"addParam",value:function(e,t){this.params[e]=t}},{key:"getParam",value:function(e){return this.params[e]}},{key:"getCleanURL",value:function(){return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.protocol+"://"+this.host:"")+this.pathname}},{key:"getFullURL",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.getCleanURL(e)+this.getParamString()}},{key:"getParamString",value:function(e){var t=$.param(this.params),n=e?"&":"?";return t.length>0?n+t:""}},{key:"hasIndex",value:function(){return this.pathname.indexOf("index.php")>-1}},{key:"hasPageId",value:function(){return void 0!==this.params.id}},{key:"hasLanguage",value:function(){return void 0!==this.params.L}},{key:"getLanguage",value:function(){return this.params.L}},{key:"isRealURL",value:function(){return!this.hasIndex()||!this.hasPageId()}},{key:"getUrlWithTarget",value:function(e){return(this.isRealURL()?this.getCleanURL():"/")+e}},{key:"getUrlForApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?e+"/?action=api":"/?action=api"}}],[{key:"hrefToLocation",value:function(e){var t=document.createElement("a");return t.href=e,t}}])}()},6584:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var u=function(e){function t(e,n){var o,s,l,u;return(0,a.A)(this,t),s=this,l=t,u=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,c()?Reflect.construct(l,u||[],(0,i.A)(s).constructor):l.apply(s,u))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.addButton=this.domElement.querySelector(".sds-btn"),this.addButtonContent=this.domElement.querySelector(".js-add-btn-content"),this.allInputs=this.domElement.querySelectorAll('input[type="hidden"]'),this.allRadio=this.domElement.querySelectorAll('input[type="radio"]'),this.radioList=this.domElement.querySelector(".js-radio-list"),this.deleteInputs=this.domElement.querySelectorAll(".js-delete-input"),this.inputValues=[],this.error=this.domElement.querySelector(".invalid-feedback")}},{key:"init",value:function(){var e=this;this.hideRadioList(),this.allInputs.forEach(function(t){var n;t.value&&"0"!==t.value?(n=!0,e.showInputContent(t.dataset.input,!0),e.hideRadioContent(t.dataset.input)):(n=!1,e.hideInputContent(t.dataset.input),e.showRadioContent(t.dataset.input)),e.inputValues.push({name:t.dataset.input,value:t.value,enabledInput:n})}),this.displayButton()}},{key:"getInputItemByName",value:function(e){return this.inputValues.findIndex(function(t){return t.name===e})}},{key:"displayButton",value:function(){this.inputValues.filter(function(e,t){return!e.enabledInput}).length>0?this.showAddButton():this.hideAddButton()}},{key:"attachEvents",value:function(){var e=this;this.init(),this.addButton.addEventListener("click",function(){e.showRadioList(),e.hideAddButton()}),this.allRadio.forEach(function(t){t.addEventListener("input",function(){e.hideRadioContent(t.dataset.input),e.hideRadioList(),e.showAddButton(),e.updateInputValues(t.dataset.input,"enabledInput",!0),e.showInputContent(t.dataset.input,!1),e.displayButton()})}),this.deleteInputs.forEach(function(t){t.addEventListener("click",function(){var n=t.closest(".form-group").querySelector('input[type="hidden"]');n&&e.handleDeleteInput(n.dataset.input)})})}},{key:"getValueObject",value:function(){return[]}},{key:"updateInputValues",value:function(e,t,n){this.inputValues[this.getInputItemByName(e)]&&this.inputValues[this.getInputItemByName(e)].hasOwnProperty(t)&&(this.inputValues[this.getInputItemByName(e)][t]=n)}},{key:"handleDeleteInput",value:function(e){this.updateInputValues(e,"enabledInput",!1),this.hideInputContent(e),this.showRadioContent(e),this.displayButton()}},{key:"showRadioList",value:function(){this.radioList.style.display="block"}},{key:"hideRadioList",value:function(){this.radioList.style.display="none"}},{key:"hideAddButton",value:function(){this.addButtonContent.style.display="none"}},{key:"showAddButton",value:function(){this.addButtonContent.style.display="block"}},{key:"showInputContent",value:function(e,t){var n=this.domElement.querySelector('input[name="'+e+'"]');if(n){var a=n.closest(".form-group");if(!t){var o=a.closest(".js-sds-form-input-list");a.parentNode.insertBefore(a,o.querySelector(".js-radio-list"))}a.style.display="block",n.focus()}}},{key:"showRadioContent",value:function(e){var t=this.domElement.querySelector('input[type="radio"][data-input="'+e+'"]');t&&("radio"===t.type&&(t.checked=!1),t.closest(".form-group").style.display="block")}},{key:"hideInputContent",value:function(e){this.domElement.querySelector('input[name="'+e+'"]').closest(".form-group").style.display="none"}},{key:"hideRadioContent",value:function(e){this.domElement.querySelector('input[type="radio"][data-input="'+e+'"]').closest(".form-group").style.display="none"}},{key:"showError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.add("-error"),null===(t=this.error)||void 0===t||t.classList.add("d-block")}},{key:"hideError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.remove("-error"),null===(t=this.error)||void 0===t||t.classList.remove("d-block")}}])}(n(3525).A)},6699:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},7048:(e,t,n)=>{var a=n(6699),o=n(5726),r=n(9540),i=n(5800),s=n(4686),l=n(1918),c=n(2696);function u(){"use strict";var t=o(),n=t.m(u),d=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function m(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))}var h={throw:1,return:2,break:3,continue:3};function f(e){var t,n;return function(a){t||(t={stop:function(){return n(a.a,2)},catch:function(){return a.v},abrupt:function(e,t){return n(a.a,h[e],t)},delegateYield:function(e,o,r){return t.resultName=o,n(a.d,c(e),r)},finish:function(e){return n(a.f,e)}},n=function(e,n,o){a.p=t.prev,a.n=t.next;try{return e(n,o)}finally{t.next=a.n}}),t.resultName&&(t[t.resultName]=a.v,t.resultName=void 0),t.sent=a.v,t.next=a.n;try{return e.call(this,t)}finally{a.p=t.prev,a.n=t.next}}}return(e.exports=u=function(){return{wrap:function(e,n,a,o){return t.w(f(e),n,a,o&&o.reverse())},isGeneratorFunction:m,mark:t.m,awrap:function(e,t){return new a(e,t)},AsyncIterator:s,async:function(e,t,n,a,o){return(m(t)?i:r)(f(e),t,n,a,o)},keys:l,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},7153:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function u(e,t,n,a){var o=(0,s.A)((0,i.A)(1&a?e.prototype:e),t,n);return 2&a&&"function"==typeof o?function(e){return o.apply(n,e)}:o}var d=function(e){function t(e,n){var o,s,l,u;return(0,a.A)(this,t),s=this,l=t,u=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,c()?Reflect.construct(l,u||[],(0,i.A)(s).constructor):l.apply(s,u))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"getType",value:function(){return u(t,"getType",this,3)([])}},{key:"parse",value:function(){u(t,"parse",this,3)([]),this.input=this.domElement.querySelector('INPUT[type="checkbox"]'),this.error=this.domElement.querySelector(".sds-checkboxGroup__error"),this.errorElements=this.domElement.querySelector(".js-sds-error-element")}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.input.classList.add("is-invalid"),this.errorElements.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.input.classList.remove("is-invalid"),this.errorElements.classList.remove("is-invalid")}},{key:"getValueObject",value:function(){var e=this,t=[];return t.push({name:this.getName().replace("[]","")+"Count",value:this.input.length}),this.input.each(function(n,a){a.checked&&t.push({name:e.getName(),value:a.value})}),t}}])}(n(3525).A)},7154:e=>{e.exports={BreakpointXs:"0",BreakpointSm:"576px",BreakpointMd:"768px",BreakpointLg:"992px",BreakpointXl:"1200px",BreakpointXxl:"1600px"}},7481:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(5152),o=n(414),r=n(2937),i=function(){return(0,o.A)(function e(){(0,a.A)(this,e),this.enabled=!1,this.filter=r.A.get("dbgFilter"),"1"===r.A.get("dbgA")&&(console.warn("[DEBUGGER] Enabled"+(this.filter?" ("+this.filter+" only)":"")),this.enabled=!0)},[{key:"output",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.enabled){if(this.filter&&this.filter!==e)return;console.log("%c "+e+" %c "+t,"color:blue","color:black",n)}}}])}();window.Debugger=new i;const s=window.Debugger},7545:(e,t,n)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n.d(t,{A:()=>a})},7569:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(8811);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var d=function(e){function t(e,n){var o,s,l,c;return(0,a.A)(this,t),s=this,l=t,c=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,u()?Reflect.construct(l,c||[],(0,i.A)(s).constructor):l.apply(s,c))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.label=this.domElement.querySelector(".sds-label"),this.input=this.domElement.querySelector("INPUT.sds-input"),this.prefixSelect=this.domElement.querySelector("SELECT.sds-select"),this.prefixSelectContainer=this.domElement.querySelector(".sds-input__phoneSelect"),this.otherPrefixValue=this.prefixSelect.dataset.otherPrefixValue,this.prefixInput=this.domElement.querySelector("INPUT.sds-input__phoneCustomPrefix"),this.prefixInputContainer=this.domElement.querySelector(".sds-input__phoneCustomPrefixWrapper"),this.error=this.domElement.querySelector(".invalid-feedback")}},{key:"attachEvents",value:function(){var e=this;this.attachInputEvents(this.input),this.attachInputEvents(this.prefixInput),this.input.addEventListener("change",function(t){e.onChange(e.getName(),e.getValue())}),this.prefixSelect.addEventListener("change",function(t){e.fireInteractionEvent(),e.handleOtherPrefix(),e.onChange(e.getName(),e.getValue())}),this.prefixInput.addEventListener("change",function(t){e.fireInteractionEvent(),e.onChange(e.getName(),e.getValue())}),this.handleOtherPrefix()}},{key:"attachInputEvents",value:function(e){var t=this;e.addEventListener("keydown",function(e){var t=!1;c.A.isMobile()?c.A.isIOS()?8===e.keyCode||e.keyCode>=48&&e.keyCode<=57||(t=!0):isNaN(e.key)&&8!==e.keyCode&&9!==e.keyCode&&37!==e.keyCode&&39!==e.keyCode&&46!==e.keyCode&&(t=!1):!isNaN(e.key)||8===e.keyCode||9===e.keyCode||13===e.keyCode||27===e.keyCode||e.keyCode>=35&&e.keyCode<=40||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||(t=!1),t&&(event.stopPropagation(),event.preventDefault())}),e.addEventListener("focus",function(e){t.fireInteractionEvent()})}},{key:"handleOtherPrefix",value:function(){this.prefixSelect.value===this.otherPrefixValue?(this.prefixSelectContainer.classList.add("d-none"),this.prefixInputContainer.classList.add("d-block"),this.prefixInput.focus()):(this.prefixInputContainer.classList.remove("d-block"),this.prefixSelectContainer.classList.remove("d-none"))}},{key:"getValueObject",value:function(){var e=[];return e.push({name:this.getName(),type:this.getType(),value:this.getValue()}),e.push({name:this.getName()+"Prefix",value:this.getPrefix()}),e.push({name:this.getName()+"Number",value:this.getNumber()}),e}},{key:"getValue",value:function(){return this.getPrefix()+this.getNumber()}},{key:"getPrefix",value:function(){return this.prefixSelect.value===this.otherPrefixValue?this.prefixInput.value:this.prefixSelect.value}},{key:"getNumber",value:function(){return this.input.value}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.domElement.classList.add("is-invalid"),this.input.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.domElement.classList.remove("is-invalid"),this.input.classList.remove("is-invalid")}}])}(n(3525).A)},7985:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(6284);function o(e,t){if(e){if("string"==typeof e)return(0,a.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,a.A)(e,t):void 0}}},8589:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(3525),u=n(1909),d=n(1515);function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}var h=function(e){function t(e,n){var o,s,l,c;return(0,a.A)(this,t),s=this,l=t,c=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,m()?Reflect.construct(l,c||[],(0,i.A)(s).constructor):l.apply(s,c))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.select=this.domElement.querySelector("SELECT"),this.name=this.select.getAttribute("name"),this.domContainer=this.domElement.closest(".js-sds-select-group"),this.error=this.domElement.querySelector(".invalid-feedback")}},{key:"attachEvents",value:function(){var e=this;this.domElement.addEventListener("click",function(t){return e.fireInteractionEvent()}),this.domElement.addEventListener("change",function(t){return e.onChange(e.getName(),e.getValue())}),Events.register(u.A.Events.FORM_SELECT_REBUILT,function(t){return t.formKey===e.key&&t.elementName===e.name&&e.rebuild(t.options,t.selected),!0})}},{key:"rebuild",value:function(e,t){var n=this;this.select.querySelectorAll("OPTION").forEach(function(e,t){e.remove()}),e.forEach(function(e){var t=(0,d.A)("OPTION",{value:e.value},e.title);n.select.append(t)}),this.setValue(t)}},{key:"getValue",value:function(){return this.select.value}},{key:"setValue",value:function(e){this.select.value=e}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.select.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.select.classList.remove("is-invalid")}}])}(c.A)},8631:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(5152),o=n(414),r=n(7481),i=function(){return(0,o.A)(function e(){(0,a.A)(this,e),this.ready=!1,this.active=!1,this.config={},this.registerEvents()},[{key:"registerEvents",value:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){e.ready=!0})}},{key:"name",value:function(){return"service"}},{key:"isActive",value:function(){return!0===this.active}},{key:"activate",value:function(){r.A.output("AnalyticsService","activate",{name:this.name()}),!1===this.active&&(this.inject(),this.active=!0)}},{key:"inject",value:function(){}},{key:"event",value:function(e){}}])}()},8730:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=new(n(3017).A);window.Forms=a;const o=a},8811:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(5152),o=n(414),r=n(1909),i=function(){function e(){(0,a.A)(this,e)}return(0,o.A)(e,null,[{key:"getMapsDirectionURL",value:function(e,t){var n=e+","+t;return-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod")||-1!=navigator.platform.indexOf("iPad")?"http://maps.apple.com/?q="+n:"http://maps.google.com/maps?q="+n}},{key:"getCleanURL",value:function(){return location.protocol+"//"+location.host+location.pathname}},{key:"writeCookie",value:function(e,t,n){var a="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),a="; expires="+o.toGMTString()}document.cookie=e+"="+t+a+"; path=/"}},{key:"readCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}},{key:"removeCookie",value:function(t){e.writeCookie(t,"",-1)}},{key:"isTouch",value:function(){return"ontouchstart"in window}},{key:"gregorianAge",value:function(e,t){if("[object Date]"!==Object.prototype.toString.call(e)&&(e=new Date(e)),void 0===t?t=new Date:"[object Date]"!==Object.prototype.toString.call(t)&&(t=new Date(t)),null==t||null==e)return null;var n=t.getMonth()-e.getMonth();return t.getFullYear()-e.getFullYear()-(n<0||0===n&&t.getDate()<e.getDate()?1:0)}},{key:"bindAnchorAnimation",value:function(e,t){document.querySelectorAll("A:not(.sds-skipNavigation)").forEach(function(e){var n=String(e.pathname).replace(/^(\/fr)/,""),a=String(window.location.pathname).replace(/^(\/fr)/,"");e.href&&e.hash&&n===a&&e.addEventListener("click",function(n){if(n.preventDefault(),void 0===e.disabled&&!e.classList.contains("disabled")){var a=String(e.hash).replace("#",""),o=document.getElementById(a);if(o){var r,i,s=0;s+=(null===(r=document.querySelector(".sds-header__subNav"))||void 0===r?void 0:r.offsetHeight)||0,s+=(null===(i=document.querySelector(".sds-nav.sticky-header"))||void 0===i?void 0:i.offsetHeight)||0,window.scrollTo({top:o.getBoundingClientRect().top+window.scrollY-s,left:0,behavior:"smooth"}),t&&t()}}})})}},{key:"getAnchorScrollPosTop",value:function(e){var t=0,n=$(".navbar-bcee");if(n.hasClass("landing"))if(0==n.find(".navbar-cta").length)t=n.outerHeight();else if($(window).width()>992)t=n.outerHeight();else{t=$(".navbar-action").outerHeight()}else t=$(".bcee-nav-main").outerHeight();if($(e).length>0){var a=$(e).css("margin-top");return $(e).offset().top-parseInt(a)-t-20}return 0}},{key:"isMobile",value:function(){return e.isAndroid()||e.isWebOS()||e.isIOS()||e.isBlackBerry()||e.isWindowsPhone()}},{key:"isIOS",value:function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}},{key:"isAndroid",value:function(){return!!navigator.platform&&/Android/.test(navigator.platform)}},{key:"isWebOS",value:function(){return!!navigator.platform&&/webOS/.test(navigator.platform)}},{key:"isBlackBerry",value:function(){return!!navigator.platform&&/BlackBerry/.test(navigator.platform)}},{key:"isWindowsPhone",value:function(){return!!navigator.platform&&/Windows Phone/.test(navigator.platform)}},{key:"isScreenMd",value:function(){return $(window).width()<992}},{key:"isScreenSm",value:function(){return $(window).width()<768}},{key:"decodeHTML",value:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}},{key:"currentUrlLangUid",value:function(){var e={fr:r.A.LanguagesUid.FR,de:r.A.LanguagesUid.DE,en:r.A.LanguagesUid.EN},t=window.location.href.replace(/.*\/(fr|de|en)\/.*/gi,function(e,t){return t});return e.hasOwnProperty(t)?e[t]:e.fr}}])}()},8887:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(3525),u=n(8811);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}var m=function(e){function t(e,n){var o,s,l,c;return(0,a.A)(this,t),s=this,l=t,c=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,d()?Reflect.construct(l,c||[],(0,i.A)(s).constructor):l.apply(s,c))).flatpickr=null,o.options={dateFormat:o.format,ariaDateFormat:o.altFormat,altInput:!0,altFormat:o.altFormat,allowInput:!0,position:"auto center",minDate:o.min,maxDate:o.max,shorthandCurrentMonth:!0,locale:{firstDayOfWeek:1,weekdays:{shorthand:["SU","MO","TU","WE","TH","FR","SA"],longhand:["SU","MO","TU","WE","TH","FR","SA"]}},disable:[function(e){return!o.isOpenDate(e)}]},o.initFlatpickr(),o.attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r,l,c,u,d;(r=t,l="parse",c=this,u=3,d=(0,s.A)((0,i.A)(1&u?r.prototype:r),l,c),2&u&&"function"==typeof d?function(e){return d.apply(c,e)}:d)([]),this.label=this.domElement.parentElement.querySelector(".sds-label"),this.input=this.domElement.querySelector("INPUT"),this.name=this.input.getAttribute("name"),this.error=this.domElement.querySelector(".invalid-feedback"),this.fakeInput=null!==(e="INPUT"==(null===(n=this.input.nextElementSibling)||void 0===n?void 0:n.tagName))&&void 0!==e?e:this.input.nextElementSibling,this.searchRange=30,this.yearRange=this.domElement.dataset.yearRange||"-100:+0",this.excludedDatesData=null===(a=this.input.dataset)||void 0===a?void 0:a.excludedDates,this.disableWeekends=null===(o=this.input.dataset)||void 0===o?void 0:o.disableWeekends,this.format="Y-m-d",this.altFormat="d.m.Y";var m=this.input.dataset.maxDate;this.max=m?flatpickr.parseDate(m):null;var h=this.input.dataset.minDate;this.min=h?flatpickr.parseDate(h):null}},{key:"initFlatpickr",value:function(){var e;this.flatpickr=flatpickr(this.input,this.options),"INPUT"==(null===(e=this.input.nextElementSibling)||void 0===e?void 0:e.tagName)?(this.fakeInput=this.input.nextElementSibling,this.input.hasAttribute("aria-describedby")&&this.fakeInput.setAttribute("aria-describedby",this.input.getAttribute("aria-describedby"))):this.fakeInput=void 0}},{key:"isOpenDate",value:function(e){if(!this.excludedDatesData&&!this.disableWeekends)return!0;var t=[];return void 0!==this.excludedDatesData&&(t=this.excludedDatesData.split(",")),!(e>this.max)&&(!(e<this.min)&&(("1"!=this.disableWeekends&&"true"!=this.disableWeekends||6!=e.getDay()&&0!=e.getDay())&&!t.includes(flatpickr.formatDate(e,this.format))))}},{key:"checkDate",value:function(e){var t=!1;e&&10===e.length?t=this.flatpickr.parseDate(e,this.format):this.fakeInput.value.length>10&&(t=this.flatpickr.parseDate(this.fakeInput.value,this.format)),t&&this.isOpenDate(t)?(this.hideError(),this.onChange(this.getName(),this.getValue())):this.showError()}},{key:"attachEvents",value:function(){var e=this;this.fakeInput.addEventListener("keyup",function(t){if(isNaN(t.key)&&"."!=t.key&&8!=t.keyCode&&9!=t.keyCode&&46!=t.keyCode&&!(t.keyCode>=35&&t.keyCode<=40)&&(65!=t.keyCode||!0!==t.ctrlKey&&!0!==t.metaKey))return!1;e.checkDate(e.fakeInput.value)}),this.fakeInput.addEventListener("blur",function(t){e.checkDate(e.fakeInput.value)}),this.flatpickr.config.onClose.push(function(t,n,a){e.checkDate(n)})}},{key:"showError",value:function(){var e,t;this.error.innerHTML=null===(e=this.error.dataset)||void 0===e?void 0:e.invalidDateErrorText,null===(t=this.label)||void 0===t||t.classList.add("-error"),this.input.classList.add("is-invalid"),this.input.nextElementSibling.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;this.error.innerHTML="",null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.input.classList.remove("is-invalid"),this.input.nextElementSibling.classList.remove("is-invalid")}},{key:"readOnlyOnTouch",value:function(){u.A.isTouch()&&this.input.setAttribute("readonly",!0)}},{key:"getValue",value:function(){return this.flatpickr.latestSelectedDateObj?flatpickr.formatDate(this.flatpickr.latestSelectedDateObj,this.format):null}}])}(c.A)},9102:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(6477);function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=(0,a.A)(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},o.apply(null,arguments)}},9167:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(3525),u=n(1909);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}var m=function(e){function t(e,n){var o,s,l,c;return(0,a.A)(this,t),s=this,l=t,c=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,d()?Reflect.construct(l,c||[],(0,i.A)(s).constructor):l.apply(s,c))).attachEvents(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,s.A)((0,i.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.name=this.domElement.dataset.name,this.challenge=this.domElement.dataset.challenge,this.valueInput=this.domElement.querySelector('INPUT[data-input="value"]'),this.selection=this.domElement.querySelector(".js-captcha-selection"),this.hashInput=this.domElement.querySelector('INPUT[data-input="hash"]'),this.error=this.domElement.querySelector(".sds-recaptcha__error")}},{key:"attachEvents",value:function(){var e,t=this;switch(Events.register(u.A.Events.CAPTCHA_REFRESH,function(e){return e.formKey===t.key&&e.elementName===t.name&&t.resetChallengeElements(e.hash,e.options,e.selection),!0}),this.challenge){case u.A.Captcha.SUM_CHALLENGE:null===(e=this.domElement.querySelector("INPUT.js-sum-input"))||void 0===e||e.addEventListener("keyup",function(e){t.valueInput.value=e.target.value,t.onChange(t.getName(),t.getValue())});break;case u.A.Captcha.PICTOGRAM_CHALLENGE:this.domElement.querySelectorAll("SPAN.js-single-option").forEach(function(e){e.addEventListener("click",function(n){t.fireInteractionEvent(),t.domElement.classList.remove("error"),t.domElement.querySelectorAll("SPAN.js-single-option").forEach(function(e){return e.classList.remove("selected")});var a=e.dataset.value;e.classList.add("selected"),t.valueInput.value=a,t.onChange(t.getName(),t.getValue())})})}}},{key:"resetChallengeElements",value:function(e,t,n){switch(this.hashInput.value=e,this.valueInput.value="",this.challenge){case u.A.Captcha.SUM_CHALLENGE:this.resetSumChallengeElements(t);break;case u.A.Captcha.PICTOGRAM_CHALLENGE:this.resetPictogramChallengeElements(t,n)}}},{key:"resetSumChallengeElements",value:function(e){this.domElement.querySelectorAll(".js-option-0").forEach(function(t){return t.innerHTML=e[0]}),this.domElement.querySelectorAll(".js-option-1").forEach(function(t){return t.innerHTML=e[1]}),this.domElement.querySelector("INPUT.js-sum-input").value=""}},{key:"resetPictogramChallengeElements",value:function(e,t){var n=this.domElement.querySelectorAll("SPAN.js-single-option");this.domElement.querySelectorAll('INPUT[type="radio"]').forEach(function(e){return e.checked=!1}),n.forEach(function(t,n){t.classList.remove("selected");var a=t.querySelector("IMG"),o=t.dataset.value,r=a.src;a.src=r.split(o).join(e[n]),t.dataset.value=e[n]}),this.selection.innerHTML=t,this.valueInput.value=""}},{key:"getValueObject",value:function(){return[{name:this.getName(),value:this.getValue()},{name:this.getName()+"_value",value:this.getValue()},{name:this.getName()+"_hash",value:this.getHash()}]}},{key:"showError",value:function(e){var t,n;null===(t=this.domElement)||void 0===t||t.classList.add("is-invalid"),null===(n=this.label)||void 0===n||n.classList.add("-error")}},{key:"addError",value:function(e){e&&this.error&&(this.error.innerHTML=e)}},{key:"hideError",value:function(){this.domElement.classList.remove("is-invalid"),this.error&&(this.error.innerHTML="")}},{key:"getValue",value:function(){return this.valueInput.value}},{key:"getHash",value:function(){return this.hashInput.value}}])}(c.A)},9214:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(7545),o=n(5152),r=n(414),i=n(5309),s=n(2715),l=n(9102),c=n(9296);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var d=function(e){function t(e,n){var a,r,l,c;return(0,o.A)(this,t),r=this,l=t,c=[e,n],l=(0,s.A)(l),(a=(0,i.A)(r,u()?Reflect.construct(l,c||[],(0,s.A)(r).constructor):l.apply(r,c))).attachEvents(),a}return(0,c.A)(t,e),(0,r.A)(t,[{key:"parse",value:function(){var e,n,a,o,r;(e=t,n="parse",a=this,o=3,r=(0,l.A)((0,s.A)(1&o?e.prototype:e),n,a),2&o&&"function"==typeof r?function(e){return r.apply(a,e)}:r)([]),this.label=this.domElement.parentElement.querySelector(".sds-label"),this.input=this.domElement.querySelector("INPUT.sds-input"),this.name=this.input.getAttribute("name"),this.error=this.domElement.querySelector(".invalid-feedback")}},{key:"attachEvents",value:function(){var e,t=this;this.input.addEventListener("focus",function(e){t.fireInteractionEvent()}),this.input.addEventListener("change",function(e){t.onChange(t.getName(),t.getValue())}),this.input.addEventListener("keyup",function(n){var o=t.input.dataset.keyup;"undefined"!==(0,a.A)(o)&&!1!==o&&(window.clearTimeout(e),e=window.setTimeout(function(e){t.onChange(t.getName(),t.getValue())},250))})}},{key:"getValue",value:function(){return this.input.value}},{key:"showError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.add("-error"),null===(t=this.input)||void 0===t||t.classList.add("is-invalid")}},{key:"hideError",value:function(){var e,t;null===(e=this.label)||void 0===e||e.classList.remove("-error"),null===(t=this.input)||void 0===t||t.classList.remove("is-invalid")}}])}(n(3525).A)},9296:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(1087);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,a.A)(e,t)}},9528:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6330),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5152),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(414),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5799),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_URLParser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6482),_components_Analytics_AnalyticsGateway__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(542),_Constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1909),_Format__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6325),_components_Forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8730),_ATag__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1515),Ajax=function(){function Ajax(){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__.A)(this,Ajax)}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__.A)(Ajax,[{key:"getUrl",value:function(e){var t=document.querySelector('FORM[data-key="'+e+'"]'),n=(null==t?void 0:t.dataset.action)||"ajax",a=new _URLParser__WEBPACK_IMPORTED_MODULE_6__.A(location.protocol,location.host,location.pathname,location.search);return a.addParam("action",n),a.getFullURL()}},{key:"get",value:function(e,t,n){var a=this,o=this.getUrl(e),r=t||[],i=new FormData;i.append("formKey",e),r.forEach(function(e){void 0!==e.value&&i.append(e.name,e.value)}),this.request("GET",o,i).then(function(e){a.ajaxComplete(e),e=a.evaluate(e),n&&n(e)})}},{key:"post",value:function(e,t,n){var a=this,o=this.getUrl(e),r=t||[],i=new FormData;i.append("formKey",e),r.forEach(function(e){void 0!==e.value&&i.append(e.name,e.value)}),this.request("POST",o,i).then(function(e){a.ajaxComplete(e),e=a.evaluate(e),n&&n(e)})}},{key:"evaluate",value:function(e){return e.actions&&(this.evaluateAction(e),delete e.actions),e}},{key:"evaluateAction",value:function evaluateAction(data){var _this3=this,actions=data.actions,formKey=data.formKey,form=$('FORM[data-key="'+formKey+'"]'),element=null;$.each(actions,function(index,action){switch(action.method){case"error":if(form){var _StepForm$getFormElem,_Forms$getFormElement;form.addClass("error");var elements=form.find('[data-name="'+action.element+'"]');elements.addClass("error");var label=form.find('.bcee-form-label[for="'+action.element+'"]');label&&label.addClass("error"),null===(_StepForm$getFormElem=StepForm.getFormElement(formKey,action.element))||void 0===_StepForm$getFormElem||_StepForm$getFormElem.showError(),null===(_Forms$getFormElement=_components_Forms__WEBPACK_IMPORTED_MODULE_3__.A.getFormElement(formKey,action.element))||void 0===_Forms$getFormElement||_Forms$getFormElement.showError();var _alert=form.find(".form-message .alert");if(_alert.html(action.information),action.information){var _Forms$getFormElement2,errorMessage=null;null===(_Forms$getFormElement2=_components_Forms__WEBPACK_IMPORTED_MODULE_3__.A.getFormElement(formKey,action.element))||void 0===_Forms$getFormElement2||_Forms$getFormElement2.addError(action.information),errorMessage=form.hasClass("sds-form")||form.hasClass("bcee-form")?form.find('.invalid-feedback[data-for="'+action.element+'"]'):form.find('.bcee-form-error[data-for="'+action.element+'"]'),errorMessage&&(errorMessage.html(action.information),errorMessage.addClass("show"))}}break;case"success":if(form){var _Forms$getFormElement3,_label=form.find('.bcee-form-label[for="'+action.element+'"]');_label&&(_label.removeClass("error"),_label.removeClass("show-error"),_label.addClass("success"));var sdsElement=window.stepForm.getFormElement(formKey,action.element);null==sdsElement||sdsElement.removeError(),null===(_Forms$getFormElement3=_components_Forms__WEBPACK_IMPORTED_MODULE_3__.A.getFormElement(formKey,action.element))||void 0===_Forms$getFormElement3||_Forms$getFormElement3.hideError()}break;case"load":location.href=action.location;break;case"postRedirect":_this3.postRedirect(action.location,action.params);break;case"reload":location.reload();break;case"insert":$(action.selector).html(action.content);break;case"append":$(action.selector).append(action.content);break;case"val":$(action.selector).val(action.value);break;case"input":$(action.selector).val(action.value).trigger("change");break;case"alert":alert(action.information);break;case"delete":$(action.selector).remove();break;case"show":$(action.selector).show();break;case"hide":$(action.selector).hide();break;case"showCollapse":$(action.selector).collapse("show");break;case"hideCollapse":$(action.selector).collapse("hide");break;case"enableButton":$(action.selector).removeAttr("disabled");break;case"disableButton":$(action.selector).attr("disabled","disabled");break;case"attr":$(action.selector).attr(action.attr,action.value);break;case"removeAttr":$(action.selector).removeAttr(action.attr);break;case"trigger":$(action.selector).trigger(action.type);break;case"linkUpdateParams":_this3.linkUpdateParams(action.selector,action.params);break;case"call":var callFunction=eval(action.name);if("undefined"!==callFunction){var bindTarget=null;if(action.name.split(".").size()>0){var parts=action.name.split(".").slice(0,-1);bindTarget=eval(parts.join("."))}action.parms?callFunction.apply(bindTarget,action.parms):callFunction()}else console.log("Function not found!");break;case"class":if(_element=$(action.selector),_element)switch(action.type){case"toggle":_element.toggleClass(action.class);break;case"add":_element.addClass(action.class);break;case"remove":_element.removeClass(action.class)}break;case"fire":Events.fire(action.event,action.data);break;case"analytics":_components_Analytics_AnalyticsGateway__WEBPACK_IMPORTED_MODULE_1__.A.processEvent(action.data);break;case"flash":if(_element=$(action.element),_element){var flashColor=action.flashColor?action.flashColor:"#FFFFFF";_element.stop().css("background-color",action.color).animate({backgroundColor:flashColor},action.duration)}break;case"animateNumber":var _element=document.querySelector(action.element);if(_element){var _action$decimals,_action$oldValue,_action$duration,animateValue=function(e,t,n,a){var o=null,r=function(i){o||(o=i);var s=Math.min((i-o)/a,1);e.innerHTML=_Format__WEBPACK_IMPORTED_MODULE_7__.A.formatAmount(Number(s*(n-t)+t).toFixed(decimals),!1,decimals>0),s<1?window.requestAnimationFrame(r):e.innerHTML=_Format__WEBPACK_IMPORTED_MODULE_7__.A.formatAmount(Number(n).toFixed(decimals),!1,decimals>0)};window.requestAnimationFrame(r)},decimals=null!==(_action$decimals=action.decimals)&&void 0!==_action$decimals?_action$decimals:0,start=null!==(_action$oldValue=action.oldValue)&&void 0!==_action$oldValue?_action$oldValue:Number(_Format__WEBPACK_IMPORTED_MODULE_7__.A.formattedAmountToFloat(_element.innerHTML));start=Number.isNaN(start)?0:start.toFixed(decimals);var end=parseFloat(action.newValue).toFixed(decimals),duration=null!==(_action$duration=action.duration)&&void 0!==_action$duration?_action$duration:300;animateValue(_element,Number(start),Number(end),duration)}break;case"formError":Events.fire(_Constants__WEBPACK_IMPORTED_MODULE_2__.A.Events.FORM_ERROR,{formKey})}})}},{key:"postRedirect",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,_ATag__WEBPACK_IMPORTED_MODULE_8__.A)("FORM",{action:e,method:"POST"}),a=0,o=Object.keys(t);a<o.length;a++){var r=o[a],i=t[r],s=(0,_ATag__WEBPACK_IMPORTED_MODULE_8__.A)("INPUT",{type:"hidden",name:r,value:i});n.appendChild(s)}document.body.appendChild(n),n.submit()}},{key:"linkUpdateParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];document.querySelectorAll(e).forEach(function(e){for(var n=new URL(e.href),a=0,o=Object.keys(t);a<o.length;a++){var r=o[a];n.searchParams.set(r,t[r])}n.searchParams.delete("cHash"),e.href=n.toString()})}},{key:"request",value:(_request=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.A)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function e(t,n,a){var o;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,fetch(n,{method:t,mode:"same-origin",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer",body:a});case 1:return o=e.sent,e.abrupt("return",o.json());case 2:case"end":return e.stop()}},e)})),function(e,t,n){return _request.apply(this,arguments)})},{key:"ajaxComplete",value:function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"ajaxComplete",attributes:{response:e}})}}]);var _request}();const __WEBPACK_DEFAULT_EXPORT__=new Ajax},9540:(e,t,n)=>{var a=n(5800);e.exports=function(e,t,n,o,r){var i=a(e,t,n,o,r);return i.next().then(function(e){return e.done?e.value:i.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},9799:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var a=n(5152),o=n(414),r=n(5309),i=n(2715),s=n(9102),l=n(9296),c=n(8811),u=n(8589),d=n(1515);function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}var h=function(e){function t(e,n){var o,s,l,c;return(0,a.A)(this,t),s=this,l=t,c=[e,n],l=(0,i.A)(l),(o=(0,r.A)(s,m()?Reflect.construct(l,c||[],(0,i.A)(s).constructor):l.apply(s,c))).attachEvents(),o.insertItems(),o}return(0,l.A)(t,e),(0,o.A)(t,[{key:"parse",value:function(){var e,n,a,o,r,l;(n=t,a="parse",o=this,r=3,l=(0,s.A)((0,i.A)(1&r?n.prototype:n),a,o),2&r&&"function"==typeof l?function(e){return l.apply(o,e)}:l)([]),this.label=this.domElement.previousElementSibling,this.name=this.domElement.dataset.name,this.type=this.domElement.dataset.type,this.args=[],this.domElement.dataset.args&&(this.args=JSON.parse(this.domElement.dataset.args)),this.noStrictFiltering=null!==(e=this.domElement.dataset.nostrictfiltering)&&void 0!==e&&e,this.select=this.domElement.querySelector("SELECT")}},{key:"getValue",value:function(){return this.select.value}},{key:"insertItems",value:function(){var e=this,t=new URLSearchParams({action:"api",apiKey:"listing",type:this.type,listType:"select",L:c.A.currentUrlLangUid(),noStrictFiltering:this.noStrictFiltering}),n=function(n){var a=e.args[n];Array.isArray(a)?a.forEach(function(e){return t.append(n+"[]",e)}):t.append(n,a)};for(var a in this.args)n(a);fetch(window.location.origin+window.location.pathname+"?"+t.toString(),{method:"GET",mode:"same-origin",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer"}).then(function(e){if(e.ok)return e.json();throw new Error("SDSSelectRemote : Something went wrong with the request")}).then(function(t){if(!t)throw new Error("SDSSelectRemote : Something went wrong with the returned data");for(var n in t){var a=t[n];a.hasOwnProperty("value")&&a.hasOwnProperty("label")&&a.hasOwnProperty("selected")&&e.select.add(new d.A("option",{value:a.value,selected:a.selected},a.label))}e.select.options.length>0&&(e.select.value=e.select.options[0].value)}).catch(function(e){console.log(e)})}},{key:"attachEvents",value:function(){var e=this;this.domElement.addEventListener("click",function(t){e.fireInteractionEvent()}),this.domElement.addEventListener("change",function(t){e.onChange(e.getName(),e.getValue())})}},{key:"showError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.add("-error"),this.domElement.classList.add("error"),this.select.classList.add("is-invalid")}},{key:"hideError",value:function(){var e;null===(e=this.label)||void 0===e||e.classList.remove("-error"),this.domElement.classList.remove("error"),this.select.classList.remove("is-invalid")}}])}(u.A)},9824:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(7545);function o(e,t){if("object"!=(0,a.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=(0,a.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(1909),t=__webpack_require__(5152),n=__webpack_require__(414),a=__webpack_require__(6325),o=function(){return(0,n.A)(function e(){(0,t.A)(this,e),this.addCustomAxisDepot()},[{key:"addCustomAxisDepot",value:function(){if("undefined"!=typeof Chart){Chart.helpers;var e=Chart.Scale.extend({determineDataLimits:function(){var e=this,t=e.chart.data.configuration||{};e.min=t.min||null,e.max=t.max||null,e.min===e.max&&(e.min<0?e.max=0:e.min=0)},buildTicks:function(){var e=this,t=e.options.ticks,n=t.limiter;e.limiter=t.limiter,e.ticks=[],e.start=0,n>=e.max?(e.ticks.push(e.min),e.ticks.push(n),e.end=n):(e.max>e.min&&e.ticks.push(n),e.ticks.push(e.max),e.end=e.max)},getBottomPosition:function(){return this.bottom-18},getTopPosition:function(){return this.top+28},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e,t){return 0===e?this.getBottomPosition():this.getTopPosition()},getPixelForValue:function(e,t,n){var a=this,o=this.getBottomPosition(),r=this.getTopPosition(),i=o-r,s=a.limiter-a.min,l=0;return 0===(e=Number(e).toFixed(2))?a.bottom:(a.limiter>=a.max?l=a.limiter:(s=a.max-a.min,l=a.max),r+i*(100/s*(l-e)/100))},convertTicksToLabels:function(){var e=this,t=e.options.ticks.currency;e.ticks=e.ticks.map(function(e){return a.A.formatAmount(e)+" "+t})}});Chart.scaleService.registerScaleType("DepotScale",e,{})}}}])}(),r=__webpack_require__(8811),i=__webpack_require__(7481),s=__webpack_require__(137),l=__webpack_require__.n(s),c=__webpack_require__(8730),u=__webpack_require__(9167),d=__webpack_require__(8887),m=__webpack_require__(3758),h=__webpack_require__(4797),f=__webpack_require__(5749),p=__webpack_require__(2086),v=__webpack_require__(2712),y=__webpack_require__(4969),E=__webpack_require__(9214),g=__webpack_require__(7569),_=__webpack_require__(3160),A=__webpack_require__(4079),b=__webpack_require__(6584),k=__webpack_require__(5089),S=__webpack_require__(8589),w=__webpack_require__(2684),T=__webpack_require__(7153),L=__webpack_require__(1968),M=__webpack_require__(1506),O=__webpack_require__(79),I=__webpack_require__(9799),C=__webpack_require__(4095),R=__webpack_require__(5021),F=__webpack_require__(4033),x=__webpack_require__(6330),P=__webpack_require__(5799),D=__webpack_require__.n(P),N=__webpack_require__(6482);const q=new(function(){return(0,n.A)(function e(){var n;(0,t.A)(this,e),this.language=(null===(n=document.querySelector(".bcee-search-language.default-language"))||void 0===n?void 0:n.getAttribute("data-uid"))||0,this.url=new N.A(location.protocol,location.host,location.pathname,location.search),this.url.addParam("action","ajaxNeo"),this.url.addParam("L",this.language)},[{key:"post",value:function(e){return this.request("POST",e)}},{key:"request",value:(e=(0,x.A)(D().mark(function e(t,n){var a;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.url.addParam("formKey",n.formKey),e.next=1,fetch(this.url.getFullURL(),{method:t,mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 1:return a=e.sent,e.abrupt("return",a.json());case 2:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})}]);var e}());const j=new(function(){return(0,n.A)(function n(a){var o=this;(0,t.A)(this,n),this.ajax=a,this.formsInstances={},this.components={},Events.register(e.A.Events.WINDOW_LOADED,function(){for(var e in document.querySelectorAll("FORM.spuerkeess-form[data-key]").forEach(function(e){var t=e.getAttribute("data-key");o.formsInstances[t]=new F.A(t,e)}),o.formsInstances){var t=o.formsInstances[e];o.attachFormEvents(t),o.attachFormInputs(t),t.shouldAutorun()&&o.submitFormInstance(t)}return!0},e.A.Priority.EXTRAHIGH),Events.register(e.A.Events.AJAX_FORM_NEO_SUBMIT,function(t){return q.post(t).then(function(n){Events.fire(e.A.Events.AJAX_FORM_NEO_RESPONDED,{response:n,formKey:t.formKey}),o.validateFormElements(t.formKey)}),!0}),Events.register(e.A.Events.FORM_ELEMENT_INTERACTED,function(t){var n=o.getFormInstanceForKey(t.key);return n&&(n.interacted||(n.interacted=!0,Events.fire(e.A.Events.ANALYTICS,{category:"form",action:t.key,name:"interacted",value:null}))),!0}),Events.register(e.A.Events.FORM_ELEMENT_CHANGED,function(e){var t=o.getFormInstanceForKey(e.key);if(t&&t.shouldAutosubmit()){var n=!0;e.elementNative&&(n=!e.elementNative.classList.contains("static")),n&&o.submitFormInstance(t)}return!0},e.A.Priority.LOW)},[{key:"attachFormEvents",value:function(t){var n=this,a=t.getDOMElement(),o=t.getKey();a.addEventListener("submit",function(t){t.stopPropagation(),t.preventDefault(),n.clearFormErrors(o);for(var a=n.getFormElements(o),r={formKey:o,values:[]},i=0,s=Object.keys(a);i<s.length;i++){var l=a[s[i]];r.values=r.values.concat(l.getValueObject())}Events.fire(e.A.Events.AJAX_FORM_NEO_REQUESTED,{formKey:o}),Events.fire(e.A.Events.AJAX_FORM_NEO_SUBMIT,r)})}},{key:"attachFormInputs",value:function(e){var t={"js-form-captcha":u.A,"js-sds-form-multicheckbox":R.A,"js-sds-form-bubbles-radios":p.A,"js-sds-form-input-range":v.A,"js-sds-form-hidden":h.A,"js-file-upload":m.A,"js-sds-input-calendar":d.A,"js-sds-form-input-calendar":d.A,"js-sds-select-remote":I.A,"js-sds-form-checkbox-group":T.A,"js-sds-form-colorpicker":C.A,"js-sds-form-input":E.A,"js-sds-form-input-amount":f.A,"js-sds-form-checkbox":w.A,"js-sds-form-select":S.A,"js-sds-form-select-dropdown":L.A,"js-sds-form-slider":S.A,"js-sds-form-spot-select-list":k.A,"js-sds-form-textarea":A.A,"js-sds-form-toggleTab":M.A,"js-sds-form-radio-group":O.A,"js-sds-form-input-switch":y.A,"js-sds-form-input-phone":g.A,"js-sds-form-input-year":_.A,"js-sds-form-input-list":b.A,"js-sds-form-checkbox-spot":w.A};Array.from(e.getDOMElement().querySelectorAll("."+Object.keys(t).join(",."))).forEach(function(n){if(n)for(var a=0,o=Object.keys(t);a<o.length;a++){var r=o[a];if(n.classList.contains(r)){e.addComponent(new t[r](n,e.getDOMElement()));break}}})}},{key:"submitFormInstance",value:function(e){this.submitForm(e.getDOMElement())}},{key:"submitForm",value:function(e){e.dispatchEvent?e.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})):console.warn("Can't access dispatchEvent function of form element")}},{key:"getFormInstanceForKey",value:function(e){var t;return null!==(t=this.formsInstances[e])&&void 0!==t?t:null}},{key:"hasFormWithKey",value:function(e){return-1!==this.formsInstances.indexOf(e)}},{key:"getFormWithKey",value:function(e){var t;return null===(t=this.getFormInstanceForKey(e))||void 0===t?void 0:t.getDOMElement()}},{key:"getFormElements",value:function(e){var t;return(null===(t=this.getFormInstanceForKey(e))||void 0===t?void 0:t.getComponents())||{}}},{key:"getFormElement",value:function(e,t){var n;return null===(n=this.getFormInstanceForKey(e))||void 0===n?void 0:n.getComponent(t)}},{key:"clearFormErrors",value:function(e){for(var t=0,n=Object.values(this.getFormElements(e));t<n.length;t++){n[t].hideError()}}},{key:"validateFormElements",value:function(e){for(var t=0,n=Object.values(this.getFormElements(e));t<n.length;t++){var a=n[t];if(a.hasValidators()){var o=a.getName(),r=a.getValue();o&&a.validateAll(o,r)}}}}])}()),B={AJAX_FORM_REQUESTED:"ajax.form.requested",AJAX_FORM_SUBMIT:"ajax.form.submit",AJAX_FORM_RESPONDED:"ajax.form.responded",AJAX_FORM_NEO_REQUESTED:"ajax.form.neo.requested",AJAX_FORM_NEO_SUBMIT:"ajax.form.neo.submit",AJAX_FORM_NEO_RESPONDED:"ajax.form.neo.responded",AJAX_STEP_FORM_SUBMIT:"ajax.step.form.submit",AJAX_STEP_FORM_SUBMIT_RESULT:"ajax.step.form.submit.result",AJAX_STEP_FORM_NEXT:"ajax.step.form.next",AJAX_STEP_FORM_BACK:"ajax.step.form.back",AJAX_STEP_FORM_INIT:"ajax.step.form.init",AJAX_STEP_FORM_STEP_CHECKED:"ajax.step.form.step.checked",AJAX_STEP_FORM_STEP_ACTIVE:"ajax.step.form.step.active",AJAX_STEP_FORM_SUMMARY_VALUES:"ajax.step.form.summary.values",AJAX_STEP_FORM_NAVIGATION:"ajax.step.form.navigation",AJAX_STEP_FORM_DYNAMIC_DATA:"ajax.step.form.dynamic.data",AJAX_STEP_FORM_TRIGGER_MODAL:"ajax.step.form.trigger.modal",AJAX_STEP_FORM_DISABLED_BTN:"ajax.step.form.disabled.btn",AJAX_STEP_FORM_FIELD_VALIDATION:"ajax.step.form.field.validation",AJAX_STEP_FORM_RESET_INPUT_VALUE:"ajax.step.form.reset.input.value",AJAX_STEP_FORM_HIDE_INPUT:"ajax.step.form.hide.input",AJAX_STEP_FORM_SHOW_INPUT:"ajax.step.form.show.input",AJAX_STEP_FORM_BACK_POSITION_UPDATED:"ajax.step.form.back.position.updated",AJAX_STEP_FORM_NEXT_POSITION_UPDATED:"ajax.step.form.next.position.updated",AJAX_STEP_FORM_APPOINTMENT_SEARCH_AGENCY:"ajax.appointment.search.agency",FORM_ELEMENT_CHANGED:"form.element.changed",FORM_ELEMENT_INTERACTED:"form.element.interacted",FORM_ERROR:"form.error",FORM_SLIDER_REBUILT:"form.slider.rebuild",FORM_SLIDER_SET_VALUE:"form.slider.set.value",FORM_SLIDER_SET_INDEX:"form.slider.set.index",FORM_INPUT_REBUILT:"form.input.rebuild",FORM_SELECT_REBUILT:"form.select.rebuild",FORM_COLOR_CHANGED:"form.color.changed",FORM_COLOR_REBUILD:"form.color.rebuild",CAPTCHA_REFRESH:"captcha.refresh",SEARCH_OVERLAY_SHOW:"search.overlay.show",WINDOW_RESIZE:"window.resize",WINDOW_LOADED:"window.loaded",SWIPER_UPDATE:"swiper.update",MAP_LOADED:"map.loaded",ANALYTICS:"analytics",INPUT_AMOUNT_REMOVED:"input.amount.removed"},V={EMAIL:"mail",NUMERIC:"numeric",NONEMPTY:"nonempty"},U={FR:0,DE:2,EN:3};class H{static empty(e){return""===String(e).trim()||null==e}static isEmpty(e){return H.empty(e)}static phoneNumber(e){let t=e.match(/([0-9+\\(\\) ]*)/g);return t&&e===t[0]}static isLuMobilePhoneNumber(e){let t=e.match(/^6(2|6|9)1([0-9]{6})$/g);return t&&e===t[0]}static mail(e){let t=e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);return t&&e===t[0]}static isMail(e){return H.mail(e)}static isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}}class X{constructor(e,t=null){this.domElement=e,this.formElement=t,this.domContainer=e?.closest(".form-group"),this.element=$(e),this.form=$(t),this.parse(),this.parseValidators()}parse(){this.key=this.formElement.dataset.key,this.name=this.domElement.dataset.name,this.error=this.domElement.parentElement.querySelector(".invalid-feedback"),this.label=this.domElement.parentElement.querySelector("LABEL")}parseValidators(){let e=this.domElement.dataset?.validator;this.validators=e&&e.length>0?String(e).split(","):[]}attachEvents(){}getName(){return this.name}getType(){return this.constructor.name}getValue(){return null}setValue(e,t=!1){}getOptions(){return null}getError(){return this.error}getLabel(){return this.label}getValueObject(){let e={name:this.getName(),type:this.getType(),value:this.getValue()},t=this.getOptions();return t&&(e.options=t),[e]}onChange(e,t){this.hasValidators()&&!this.validateAll(e,t)||this.fireChangeEvent({element:this.element,elementNative:this.domElement,name:e,value:t,formKey:this.key})}fireChangeEvent(e){Events.fire(B.FORM_ELEMENT_CHANGED,{key:this.key,...e})}fireInteractionEvent(){Events.fire(B.FORM_ELEMENT_INTERACTED,{key:this.key,name:this.name})}showError(){this.hideSuccess(),this.label?.classList.add("error"),this.domElement.classList.add("error"),this.error?.innerHTML&&this.error?.classList.add("show")}addError(e){}hideError(){this.label?.classList.remove("error"),this.domElement.classList.remove("error"),this.error?.classList.remove("show")}setError(e){this.error?this.error.innerHTML=e:console.warn(`No error element found for ${this.getType()}`)}showSuccess(){this.hideError(),this.label?.classList.add("success"),this.domElement.classList.add("success")}hideSuccess(){this.label?.classList.remove("success"),this.element.classList.remove("success")}hideErrorOrSuccess(){this.hideError(),this.hideSuccess()}hasValidators(){return this.validators.length>0}validateAll(e,t){let n=!0;for(let a of this.validators)if(!this.validate(a,e,t)){n=!1;break}return n?this.showSuccess():this.showError(),n}validate(e,t,n){switch(e){case V.EMAIL:return H.isMail(n);case V.NUMERIC:return H.isNumeric(n);case V.NONEMPTY:return!H.isEmpty(n);default:console.error('Unknown validator "'+e+'"')}return!1}}class K{static getMapsDirectionURL(e,t){let n=e+","+t;return-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod")||-1!=navigator.platform.indexOf("iPad")?"http://maps.apple.com/?q="+n:"http://maps.google.com/maps?q="+n}static getCleanURL(){return location.protocol+"//"+location.host+location.pathname}static writeCookie(e,t,n){let a="";if(n){let e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),a="; expires="+e.toGMTString()}document.cookie=e+"="+t+a+"; path=/"}static readCookie(e){let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let a=n[e];for(;" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}static removeCookie(e){K.writeCookie(e,"",-1)}static isTouch(){return"ontouchstart"in window}static gregorianAge(e,t){if("[object Date]"!==Object.prototype.toString.call(e)&&(e=new Date(e)),void 0===t?t=new Date:"[object Date]"!==Object.prototype.toString.call(t)&&(t=new Date(t)),null==t||null==e)return null;var n=t.getMonth()-e.getMonth();return t.getFullYear()-e.getFullYear()-(n<0||0===n&&t.getDate()<e.getDate()?1:0)}static bindAnchorAnimation(e,t){document.querySelectorAll("A:not(.sds-skipNavigation)").forEach(e=>{let n=String(e.pathname).replace(/^(\/fr)/,""),a=String(window.location.pathname).replace(/^(\/fr)/,"");e.href&&e.hash&&n===a&&e.addEventListener("click",n=>{if(n.preventDefault(),void 0===e.disabled&&!e.classList.contains("disabled")){let n=String(e.hash).replace("#",""),a=document.getElementById(n);if(a){let e=0;e+=document.querySelector(".sds-header__subNav")?.offsetHeight||0,e+=document.querySelector(".sds-nav.sticky-header")?.offsetHeight||0,window.scrollTo({top:a.getBoundingClientRect().top+window.scrollY-e,left:0,behavior:"smooth"}),t&&t()}}})})}static getAnchorScrollPosTop(e){let t=0,n=$(".navbar-bcee");if(n.hasClass("landing")){if(0==n.find(".navbar-cta").length)t=n.outerHeight();else if($(window).width()>992)t=n.outerHeight();else{t=$(".navbar-action").outerHeight()}}else{t=$(".bcee-nav-main").outerHeight()}if($(e).length>0){let n=$(e).css("margin-top");return $(e).offset().top-parseInt(n)-t-20}return 0}static isMobile(){return K.isAndroid()||K.isWebOS()||K.isIOS()||K.isBlackBerry()||K.isWindowsPhone()}static isIOS(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}static isAndroid(){return!!navigator.platform&&/Android/.test(navigator.platform)}static isWebOS(){return!!navigator.platform&&/webOS/.test(navigator.platform)}static isBlackBerry(){return!!navigator.platform&&/BlackBerry/.test(navigator.platform)}static isWindowsPhone(){return!!navigator.platform&&/Windows Phone/.test(navigator.platform)}static isScreenMd(){return $(window).width()<992}static isScreenSm(){return $(window).width()<768}static decodeHTML(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}static currentUrlLangUid(){let e={fr:U.FR,de:U.DE,en:U.EN},t=window.location.href.replace(/.*\/(fr|de|en)\/.*/gi,(e,t)=>t);return e.hasOwnProperty(t)?e[t]:e.fr}}class J extends X{constructor(e,t){super(e,t),this.flatpickr=null,this.options={dateFormat:this.format,ariaDateFormat:this.altFormat,altInput:!0,altFormat:this.altFormat,allowInput:!0,position:"auto center",minDate:this.min,maxDate:this.max,shorthandCurrentMonth:!0,locale:{firstDayOfWeek:1,weekdays:{shorthand:["SU","MO","TU","WE","TH","FR","SA"],longhand:["SU","MO","TU","WE","TH","FR","SA"]}},disable:[e=>!this.isOpenDate(e)]},this.initFlatpickr(),this.attachEvents()}parse(){super.parse(),this.label=this.domElement.parentElement.querySelector(".sds-label"),this.input=this.domElement.querySelector("INPUT"),this.name=this.input.getAttribute("name"),this.error=this.domElement.querySelector(".invalid-feedback"),this.fakeInput="INPUT"==this.input.nextElementSibling?.tagName??this.input.nextElementSibling,this.searchRange=30,this.yearRange=this.domElement.dataset.yearRange||"-100:+0",this.excludedDatesData=this.input.dataset?.excludedDates,this.disableWeekends=this.input.dataset?.disableWeekends,this.format="Y-m-d",this.altFormat="d.m.Y";let e=this.input.dataset.maxDate;this.max=e?flatpickr.parseDate(e):null;let t=this.input.dataset.minDate;this.min=t?flatpickr.parseDate(t):null}initFlatpickr(){this.flatpickr=flatpickr(this.input,this.options),"INPUT"==this.input.nextElementSibling?.tagName?(this.fakeInput=this.input.nextElementSibling,this.input.hasAttribute("aria-describedby")&&this.fakeInput.setAttribute("aria-describedby",this.input.getAttribute("aria-describedby"))):this.fakeInput=void 0}isOpenDate(e){if(!this.excludedDatesData&&!this.disableWeekends)return!0;let t=[];return void 0!==this.excludedDatesData&&(t=this.excludedDatesData.split(",")),!(e>this.max)&&(!(e<this.min)&&(("1"!=this.disableWeekends&&"true"!=this.disableWeekends||6!=e.getDay()&&0!=e.getDay())&&!t.includes(flatpickr.formatDate(e,this.format))))}checkDate(e){let t=!1;e&&10===e.length?t=this.flatpickr.parseDate(e,this.format):this.fakeInput.value.length>10&&(t=this.flatpickr.parseDate(this.fakeInput.value,this.format)),t&&this.isOpenDate(t)?(this.hideError(),this.onChange(this.getName(),this.getValue())):this.showError()}attachEvents(){this.fakeInput.addEventListener("keyup",e=>{if(isNaN(e.key)&&"."!=e.key&&8!=e.keyCode&&9!=e.keyCode&&46!=e.keyCode&&!(e.keyCode>=35&&e.keyCode<=40)&&(65!=e.keyCode||!0!==e.ctrlKey&&!0!==e.metaKey))return!1;this.checkDate(this.fakeInput.value)}),this.fakeInput.addEventListener("blur",e=>{this.checkDate(this.fakeInput.value)}),this.flatpickr.config.onClose.push((e,t,n)=>{this.checkDate(t)})}showError(){this.error.innerHTML=this.error.dataset?.invalidDateErrorText,this.label?.classList.add("-error"),this.input.classList.add("is-invalid"),this.input.nextElementSibling.classList.add("is-invalid")}hideError(){this.error.innerHTML="",this.label?.classList.remove("-error"),this.input.classList.remove("is-invalid"),this.input.nextElementSibling.classList.remove("is-invalid")}readOnlyOnTouch(){K.isTouch()&&this.input.setAttribute("readonly",!0)}getValue(){return this.flatpickr.latestSelectedDateObj?flatpickr.formatDate(this.flatpickr.latestSelectedDateObj,this.format):null}}class G{static formatAmount(e,t=!1,n=!0,a=2){let o=Number(e)+"";t&&(o=(o>0?"+":"")+o),o=o.replace(/\./g,",");let r=o.toString().split(",");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),!0===n&&(r[1]=G.padEnd(void 0===r[1]?"":r[1],a,"0")),r.join(",")}static formattedAmountToFloat(e){return parseFloat(String(e).replace(/,00$/,"").replace("+","").replace(/\./g,"").replace(/\,/g,"."))}static cleanFormattedAmount(e){return String(e).replace(/,00$/,"").replace("+","").replace(/\./g,"")}static roundDecimal(e,t=2){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}static getMonthlyFee(e,t,n){let a=Number(e),o=Number(t),r=Number(n);if(0==o)return Math.round(a/(12*r)*100)/100;let i=1+365*o/400/360,s=Math.pow(Math.pow(i,4),1/12),l=a*((s-1)/(1-Math.pow(s,12*-r)));return Math.round(100*l)/100}static ellipsis(e,t){e=e.substr(0,Math.max(0,t))}static padEnd(e,t,n){if(String.prototype.padEnd)return e.padEnd(t,n);if((t=Math.floor(t)||0)<e.length)return String(e);n=n?String(n):" ";for(var a="",o=t-e.length,r=0;a.length<o;)n[r]||(r=0),a+=n[r],r++;return String(e).slice(0)+a}static humanReadableFileSize(e){const t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1);return 0===n?`${e} bytes`:`${(e/1024**n).toFixed(2)} ${t[n]}`}}class W extends X{constructor(e,t){super(e,t),this.attachEvents()}parse(){this.input=this.domElement.querySelector("INPUT.js-file-upload-input"),this.name=this.input.getAttribute("name"),this.fileMeta=this.domElement.querySelector(".sds-imgUpload__meta"),this.fileTitle=this.domElement.querySelector(".sds-imgUpload__title"),this.actions=this.domElement.querySelector(".js-file-upload-actions"),this.actionClear=this.domElement.querySelector(".js-file-upload-action-clear"),this.types=JSON.parse(this.domElement.dataset.types||"[]")}attachEvents(){this.actionClear?.addEventListener("click",e=>{this.clear(),e.preventDefault()}),this.domElement.addEventListener("dragleave",e=>{this.domElement.classList.remove("-loading"),e.preventDefault()}),this.domElement.addEventListener("dragenter",e=>{this.domElement.classList.add("-loading"),e.preventDefault()}),this.domElement.addEventListener("dragover",e=>{e.preventDefault()}),this.domElement.addEventListener("drop",e=>{this.domElement.classList.remove("-loading"),e.preventDefault();let t=[];e.dataTransfer.items?[...e.dataTransfer.items].forEach((e,n)=>{if("file"===e.kind){const n=e.getAsFile();this.checkFile(n)&&t.push(n)}}):[...e.dataTransfer.files].forEach((e,n)=>{this.checkFile(e)&&t.push(e)}),t.length>0&&(this.domElement.classList.add("-uploadComplete"),this.processFile(t[0]))}),this.input.addEventListener("change",()=>{this.domElement.classList.remove("-loading");const e=this.input.files;e.length>0&&this.checkFile(e[0])&&(this.domElement.classList.add("-uploadComplete"),this.processFile(e[0]))},!1)}checkFile(e){return this.types.indexOf(e.type)>-1}processFile(e){this.fileTitle.innerHTML=e.name,this.fileMeta.innerHTML=G.humanReadableFileSize(e.size),this.actions.classList.remove("d-none");let t=new DataTransfer;t.items.add(e),this.input.files=t.files}clear(){this.actions.classList.add("d-none"),this.domElement.classList.remove("-uploadComplete"),this.input.value="",this.fileTitle.innerHTML=this.fileTitle.dataset.value,this.fileMeta.innerHTML=this.fileMeta.dataset.value}}class Y extends X{constructor(e,t){super(e,t),this.attachEvents()}getType(){return super.getType()}parse(){super.parse(),this.input=this.domElement.querySelector('INPUT[type="checkbox"]'),this.error=this.domElement.querySelector(".sds-checkboxGroup__error"),this.errorElements=this.domElement.querySelector(".js-sds-error-element")}showError(){this.label?.classList.add("-error"),this.input.classList.add("is-invalid"),this.errorElements.classList.add("is-invalid")}hideError(){this.label?.classList.remove("-error"),this.input.classList.remove("is-invalid"),this.errorElements.classList.remove("is-invalid")}getValueObject(){let e=[];return e.push({name:this.getName().replace("[]","")+"Count",value:this.input.length}),this.input.each((t,n)=>{n.checked&&e.push({name:this.getName(),value:n.value})}),e}}class z extends Y{constructor(e,t){super(e,t),this.attachEvents()}}var Q=__webpack_require__(5309),Z=__webpack_require__(2715),ee=__webpack_require__(9296);function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(te=function(){return!!e})()}var ne=function(e){function a(e,n){var o,r,i,s;return(0,t.A)(this,a),r=this,i=a,s=[e,n],i=(0,Z.A)(i),(o=(0,Q.A)(r,te()?Reflect.construct(i,s||[],(0,Z.A)(r).constructor):i.apply(r,s))).body=o.domElement.querySelector(".js-native-forms-table-rows"),o.attachEvents(),o}return(0,ee.A)(a,e),(0,n.A)(a,[{key:"attachEvents",value:function(){var e,t=this;null===(e=this.domElement.querySelector(".js-native-forms-table-add"))||void 0===e||e.addEventListener("click",function(e){t.addRow()}),this.body.querySelectorAll("TR").forEach(function(e){return t.attachDeleteEvent(e)})}},{key:"attachDeleteEvent",value:function(e){var t,n=this;null===(t=e.querySelector(".js-native-forms-table-remove"))||void 0===t||t.addEventListener("click",function(t){e.dataset.index>0&&(e.remove(),n.rebuildIndexes())})}},{key:"addRow",value:function(){var e=this.body.querySelector('TR[data-index="0"]');if(e){var t=e.cloneNode(!0);t.querySelectorAll("INPUT").forEach(function(e){e.value=""}),this.attachDeleteEvent(t),this.body.appendChild(t),this.rebuildIndexes()}}},{key:"rebuildIndexes",value:function(){var e=this;this.body.querySelectorAll("TR").forEach(function(t,n){t.dataset.index=n,t.querySelectorAll("TH").forEach(function(t,a){if(0===a)t.querySelectorAll(".js-native-forms-index").forEach(function(e){return e.innerHTML="#"+(n+1)});else if(t.classList.contains("js-native-forms-table-remove"))n>0&&t.classList.remove("d-none");else{var o=e.domElement.dataset.name,r=t.dataset.name,i=t.querySelector("INPUT");i.id=e.domElement.id+"-"+n+"-"+r,i.name=o+"["+n+"]["+r+"]"}})})}}])}(__webpack_require__(3525).A),ae=new(function(){return(0,n.A)(function n(){var a=this;(0,t.A)(this,n),this.components={},Events.register(e.A.Events.WINDOW_LOADED,function(){return a.nativeForms=document.querySelectorAll('FORM[data-form-type="native"]'),a.nativeForms.forEach(function(e,t){a.attachFormEvents(e),a.attachInputsInForm(e),a.handleHasError(e)}),!0})},[{key:"handleHasError",value:function(e){var t;null!==(t=e.classList)&&void 0!==t&&t.contains("js-has-error")&&e.scrollIntoView({behavior:"smooth",block:"center"})}},{key:"attachFormEvents",value:function(e){e.addEventListener("submit",function(t){var n=e.querySelector(".form-navigation .next .sds-btn");n&&n.classList.contains("-isLoading")&&(t.stopPropagation(),t.preventDefault()),e.querySelectorAll(".form-navigation .sds-btn").forEach(function(e){return e.classList.add("-isLoading")})})}},{key:"attachInputsInForm",value:function(e){var t=this,n=this.getElementsMap();Array.from(e.querySelectorAll("."+Object.keys(n).join(",."))).forEach(function(a){if(a)for(var o=0,r=Object.keys(n);o<r.length;o++){var i=r[o];if(a.classList.contains(i)){var s=new n[i](a,e);t.components[s.getName()]=s;break}}})}},{key:"getElementsMap",value:function(){return{"js-sds-input-calendar":J,"js-file-upload":W,"js-sds-form-multicheckbox":z,"js-native-forms-table":ne}}},{key:"getElement",value:function(e){var t;return null!==(t=this.components[e])&&void 0!==t?t:null}}])}());window.NativeForms=ae;var oe=__webpack_require__(9102);function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(re=function(){return!!e})()}var ie=new(function(a){function o(){return(0,t.A)(this,o),e=this,n=o,a=arguments,n=(0,Z.A)(n),(0,Q.A)(e,re()?Reflect.construct(n,a||[],(0,Z.A)(e).constructor):n.apply(e,a));var e,n,a}return(0,ee.A)(o,a),(0,n.A)(o,[{key:"processForms",value:function(){var e,t,n,a,r;this.formsQuery="FORM.sds-step-form[data-key]",(e=o,t="processForms",n=this,a=3,r=(0,oe.A)((0,Z.A)(1&a?e.prototype:e),t,n),2&a&&"function"==typeof r?function(e){return r.apply(n,e)}:r)([])}},{key:"toggleFormLoadingState",value:function(e){var t;this.formsInstances[e]&&(null===(t=this.formsInstances[e].domElement)||void 0===t||null===(t=t.querySelector('button[type="submit"]'))||void 0===t||t.classList.toggle("-isLoading"))}},{key:"attachFormSubmit",value:function(t){var n=this,a=t.domElement,o=t.key;a.addEventListener("submit",function(t){var r;t.stopPropagation(),t.preventDefault(),n.clearFormErrors(o);var i=n.getFormValues(o);i.push({name:e.A.stepFormPageURL,value:window.location.href}),i.push({name:e.A.stepFormPageTitle,value:null===(r=a.dataset)||void 0===r?void 0:r.pageTitle}),Events.fire(e.A.Events.AJAX_FORM_REQUESTED,{formKey:o}),Events.fire(e.A.Events.AJAX_FORM_SUBMIT,{formKey:o,fields:i})}),$(t.domElement).on("keydown","input",function(e){if(13===e.keyCode)return e.preventDefault(),!1})}},{key:"getElementsMap",value:function(){return{"spuerkeess-captcha":u.A,"js-sds-form-input":E.A,"js-sds-form-input-phone":g.A,"js-sds-form-input-amount":f.A,"js-sds-form-input-year":_.A,"js-sds-form-textarea":A.A,"js-sds-form-input-range":v.A,"js-sds-form-input-list":b.A,"js-sds-form-spot-select-list":k.A,"js-sds-form-select":S.A,"js-sds-form-checkbox":w.A,"js-sds-form-multicheckbox":R.A,"js-sds-form-checkbox-group":T.A,"js-sds-select-remote":I.A,"js-sds-form-input-calendar":d.A,"js-sds-form-select-dropdown":L.A,"js-sds-form-colorpicker":C.A,"js-sds-form-radio-group":O.A,"js-sds-form-hidden":h.A}}}])}(__webpack_require__(3017).A));window.StepForm=ie;const se=ie;var le=function(){return(0,n.A)(function e(){(0,t.A)(this,e),this.attachScrollIndicator()},[{key:"attachScrollIndicator",value:function(){var e=this;$(".scrollable-table").each(function(t,n){var a=$(n);if(!a.hasClass("loaded")){a.addClass("loaded");var o=a.find(".table-responsive"),r=a.find(".scroll-indicator.gradient-left"),i=a.find(".scroll-indicator.gradient-right"),s=a.find(".table");e.toggleScrollIndicator(s.position().left,o.scrollWidth,r,i,o),o.scroll(function(t){e.toggleScrollIndicator(s.position().left,t.currentTarget.scrollWidth,r,i,o)})}})}},{key:"toggleScrollIndicator",value:function(e,t,n,a,o){e>=0?n.addClass("d-none"):n.removeClass("d-none"),e<=o.width()-t?a.addClass("d-none"):a.removeClass("d-none")}}])}(),ce=__webpack_require__(2937),ue=__webpack_require__(1515),de=function(){return(0,n.A)(function e(){(0,t.A)(this,e),this.initialized=!1,this.initModal(),this.initPageloadModals(),this.attachClickEvents()},[{key:"getElement",value:function(){return this.modal}},{key:"initModal",value:function(){void 0===this.modal&&(this.bodyScrollLock=__webpack_require__(3249),this.modal=$("#baseModal"))}},{key:"attachClickEvents",value:function(){var e=this;$('[data-modal="1"][data-page][data-title]').each(function(t,n){(n=$(n)).off("click").on("click",function(t){t.stopPropagation(),t.preventDefault();var a=n.data("page");a&&e.openPageModal(a,n.data("title"),n.data("modal-class"))})}),$('[data-modal="1"][data-page-url]').each(function(t,n){var a=(n=$(n)).data("page-url");n.off("click").on("click",function(t){t.stopPropagation(),t.preventDefault(),e.openUrlModal(a,n.data("title"),n.data("modal-class"))})})}},{key:"initPageloadModals",value:function(){var e=this;this.initialized||(this.initialized=!0,$('[data-modal-popup="1"][data-page][data-title]').each(function(t,n){n=$(n);var a=String(n.attr("data-page")),o=n.data("title"),r=n.data("modal-class"),i="1"==n.data("only-once");if(a){var s=!0;if(i){var l=JSON.parse(ce.A.get("spuerkeess_modals"));l||(l=[]),l.indexOf(a)>-1?s=!1:(l.push(a),ce.A.set("spuerkeess_modals",JSON.stringify(l)))}s&&e.openPageModal(a,o,r)}}))}},{key:"openPageModal",value:function(e,t,n){var a=this;e.endsWith("/")&&(e=e.slice(0,-1)),n&&this.modal.addClass(n),this.modal.find(".modal-header .modal-title").html(t);var o=this.modal.find(".js-modal-body");this.modal.addClass("-contentLoading"),o.html(""),this.modal.modal("show"),this.modal.addClass("show"),this.modal.show(),$.get(e+"?type=42069").done(function(e){a.modal.removeClass("-contentLoading");var t=(new DOMParser).parseFromString(e,"text/html").getElementById("js-modal-content");t&&t.childNodes&&t.childNodes.length>0&&(Array.from(t.childNodes).forEach(function(e){return o.append(e)}),r.A.bindAnchorAnimation(o,function(){a.modal.modal("hide")}),new le)}).fail(function(){a.modal.removeClass("-contentLoading"),o.html(""),a.modal.find(".modal-footer").show()}),this.modal.on("hidden.bs.modal",function(){a.modal.hasClass("show")&&(a.modal.removeClass("show"),a.modal.hide()),a.modal.find(".modal-header .modal-title").html(""),o.html(""),a.modal.find(".modal-footer").hide()})}},{key:"openUrlModal",value:function(e,t,n){this.modal.removeClass("-contentLoading"),n&&this.modal.addClass(n),this.modal.find(".modal-header .modal-title").html(t);var a=(0,ue.A)("iframe",{src:e,style:"width:100%; height:400px; border:0;"});this.modal.find(".modal-body:not(.modal-loader)").html(a),this.modal.modal("show")}}])}();function me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(me=function(){return!!e})()}var he=function(e){function a(e){var n,o,r,i;return(0,t.A)(this,a),o=this,r=a,i=[e,".js-form-lead-generation"],r=(0,Z.A)(r),(n=(0,Q.A)(o,me()?Reflect.construct(r,i||[],(0,Z.A)(o).constructor):r.apply(o,i))).handleCollapseOnce(),n}return(0,ee.A)(a,e),(0,n.A)(a,[{key:"handleCollapseOnce",value:function(){var e=this.element.find(".js-collapsable"),t=this.element.find('[data-toggle="collapse"]');e.on("shown.bs.collapse",function(){t.attr("data-toggle","non-collapse")})}}])}(function(){return(0,n.A)(function e(n,a){(0,t.A)(this,e),this.element=$(n),this.collapsable=this.element.find(".bcee-collapsable-content"),this.form=this.element.find(a),this.submitBtnBack=this.element.find(".form-back"),this.sendFormBtn=this.element.find(".form-send"),this.collapsableContent=this.collapsable.find(".content"),this.collapsableContentOverlay=this.collapsable.find(".content-overlay"),this.collapseTrigger=this.collapsable.find(".open-more"),this.submitLoader=this.element.find(".submit-loader"),this.currentStep=this.element.find(".step"),this.scrollToFooter=this.element.find(".scroll-to-footer"),this.attachCollapsableSummary(),this.attachSubmitBtnBack(),this.attachSendForm(),this.attachForms()},[{key:"attachScrollToFooter",value:function(e){var t=this;this.scrollToFooter.on("click touch",function(n){n.stopPropagation(),n.preventDefault();var a=t.element.siblings(e);t.scrollTop(a)})}},{key:"attachSendForm",value:function(){var e=this;this.sendFormBtn.on("click touch",function(t){e.sendFormBtn.addClass("d-none"),e.submitLoader.removeClass("d-none")})}},{key:"scrollTop",value:function(e){$("html, body").animate({scrollTop:r.A.getAnchorScrollPosTop(e)},600)}},{key:"attachCollapsableSummary",value:function(){var e=this;this.collapseTrigger.on("click touch",function(t){e.collapsable.toggleClass("collapsed"),e.collapsableContentOverlay.hide(),e.collapseTrigger.remove(),e.scrollTop(e.collapsable)})}},{key:"attachSubmitBtnBack",value:function(){var e=this;this.submitBtnBack.on("click touch",function(t){t.stopPropagation(),t.preventDefault(),"form-modify"===$(t.currentTarget).val()?$('INPUT[name="formDirection"]').val("modify"):$('INPUT[name="formDirection"]').val("back"),c.A.submitForm(e.form[0])})}},{key:"attachForms",value:function(){var e=this;this.currentStep.bind("errorInForm",function(t){if(e.currentStep.hasClass("error")&&$(".bcee-form-label.error").length>0){$("html, body").animate({scrollTop:$(".bcee-form-label.error:first").offset().top-180},1e3)}})}}])}());new(function(){return(0,n.A)(function e(){(0,t.A)(this,e),this.key="form.leasepluspartners",this.form=$('.bcee-form[data-key="'+this.key+'"]'),this.form.length>0&&(this.submit=this.form.find("[type=submit]"),this.attachEvents())},[{key:"attachEvents",value:function(){var t=this;Events.register(e.A.Events.AJAX_FORM_SUBMIT,function(e){return!0}),Events.register(e.A.Events.FORM_ELEMENT_CHANGED,function(e){return e.formKey===t.key&&("offer"===e.name&&($(".js-lease-plus-partners-quote").toggleClass("d-none"),$(".js-deposit").toggleClass("d-none")),"offerDeposit"===e.name&&$(".js-deposit-amount").toggleClass("d-none")),!0}),Events.register(e.A.Events.FORM_ERROR,function(e){if(e.formKey===t.key){var n=t.form.find(".bcee-form-label.error").first();if(n.length){$("html, body").animate({scrollTop:n.offset().top-180},1e3)}}return!0})}}])}());var fe=(0,n.A)(function e(n,a){(0,t.A)(this,e),this.formKey=n,this.form=$(a),this.domForm=document.querySelector('[data-key="'+n+'"]')});function pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pe=function(){return!!e})()}var ve=function(a){function o(e,n){var a,r,i,s;return(0,t.A)(this,o),r=this,i=o,s=["simulator.financial.plan",".bcee-form-simulator-financial-plan"],i=(0,Z.A)(i),(a=(0,Q.A)(r,pe()?Reflect.construct(i,s||[],(0,Z.A)(r).constructor):i.apply(r,s))).inputMail=a.form.find(".SendToEmailInput"),a.submitButton=a.form.find("#btnSimulatorSendMail"),a.loaderMail=a.form.find(".submit-loader.main"),a.notifMessage=a.form.find(".sendedNotificationMessage"),a.funding=a.form.find("INPUT[name=funding]"),a.loaderPdf=a.form.find(".submit-loader.pdf"),a.pdfButton=a.form.find("#btnSimulatorPdf"),a.downloadPdfButton=a.form.find("#btnSimulatorDownloadPdf"),a.recalculate(),a.enterKey(),a.attachSendMail(),a.attachPdf(),a.toggleMailForm(),a}return(0,ee.A)(o,a),(0,n.A)(o,[{key:"recalculate",value:function(){var e=this;$(".relaculate").each(function(t,n){var a=$(n);a.on("click touch",function(t){var n=a.closest(".input-message").data("input-name"),o=c.A.getFormElement(e.formKey,n);e.form.find("INPUT[name=funding]").val();"taxCredit"===n?"1"==e.funding.val()?o.setValue(2e4):o.setValue(4e4):o.setValue(0),c.A.submitForm(e.form[0])})})}},{key:"enterKey",value:function(){$(".input-element",this.form).each(function(e,t){var n=$(t);n.on("keypress keyup keydown click",function(e){13===e.keyCode&&n.trigger("blur")})})}},{key:"attachSendMail",value:function(){var t=this;$("#btnSimulatorSendMail").on("click touch",function(n){n.preventDefault(),n.stopPropagation(),t.inputMail.addClass("d-none"),t.submitButton.addClass("d-none"),t.loaderMail.removeClass("d-none"),t.notifMessage.addClass("d-none"),Events.register_once(e.A.Events.AJAX_FORM_SUBMIT,function(e,t){return e.fields.push({name:"sendMail",value:!0}),t(e),!0},e.A.Priority.EXTRAHIGH),c.A.submitForm(t.form[0])})}},{key:"attachPdf",value:function(){var t=this;$("#btnSimulatorPdf").on("click touch",function(n){n.preventDefault(),n.stopPropagation(),t.loaderPdf.removeClass("d-none"),t.pdfButton.addClass("d-none"),t.downloadPdfButton.addClass("d-none"),Events.register_once(e.A.Events.AJAX_FORM_SUBMIT,function(e,t){return e.fields.push({name:"generatePdf",value:!0}),t(e),!0},e.A.Priority.EXTRAHIGH),Events.register_once(e.A.Events.AJAX_FORM_RESPONDED,function(e){var n=e.response.data;return t.pdfButton.addClass("d-none"),t.downloadPdfButton.attr("href",n.linkToPdf).removeClass("d-none"),!0}),c.A.submitForm(t.form[0])})}},{key:"toggleMailForm",value:function(){$("#toggle-mail").on("click touch",function(e){$(".mail-form").toggle("slow")})}}])}(fe),ye=function(){return(0,n.A)(function e(){var n=this;(0,t.A)(this,e),$(document).ready(function(){n.attachEvents()})},[{key:"attachEvents",value:function(){var e=this;$(".bcee-mia-slideshow").each(function(t,n){var a=$(n),o=a.find(".slideshow-infos"),r=a.find(".slideshow-images .images-container"),i=a.find(".bcee-ab-arrow-left"),s=a.find(".bcee-ab-arrow-right"),l=r.find("VIDEO");if(r.length>0){var c=new Flickity(o[0],{autoPlay:!1,wrapAround:!0,resize:!0,draggable:!1,pageDots:!1,prevNextButtons:!1}),u=new Flickity(r[0],{autoPlay:!1,wrapAround:!0,resize:!0,draggable:!1,pageDots:!1,prevNextButtons:!1});i.on("click touch",function(e){e.stopPropagation(),e.preventDefault(),c.previous(),u.previous()}),s.on("click touch",function(e){e.stopPropagation(),e.preventDefault(),c.next(),u.next()}),window.setTimeout(function(){c.resize()},10)}l.length>0&&(e.autoPlaySlider(a,r),$(window).scroll(function(){e.autoPlaySlider(a,r)}))}),$(".bcee-mia-animation, .bcee-mia-speechbubble").each(function(t,n){var a=$(n);e.autoPlayElement(a),$(window).scroll(function(){e.autoPlayElement(a)})})}},{key:"autoPlaySlider",value:function(e,t){e.hasClass("autoplay")||(e.addClass("autoplay"),t.find("VIDEO").each(function(e,t){t.play()}))}},{key:"autoPlayElement",value:function(e){var t=this;!e.hasClass("is-animated")&&this.isElementVisible(e)&&(e.addClass("is-animated"),e.hasClass("progress-animation")&&e.find(".bcee-finances-card").each(function(e,n){var a=$(n),o=a.find(".bcee-format-amount .amount-value"),r=a.data("amount"),i=a.data("increment"),s=a.data("duration"),l=a.data("delay")||0;r&&window.setTimeout(function(){t.animateValue(o,0,r,s,i)},l)}))}},{key:"isElementVisible",value:function(e){var t=$(e).offset().top+$(e).outerHeight();return $(window).scrollTop()+window.innerHeight>t}},{key:"animateValue",value:function(e,t,n,o){var r=null,i=t,s=n,l=o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=n/c;r=window.setInterval(function(){i+=c,e&&e.html(a.A.formatAmount(i)),i+c>=s&&(e.html(a.A.formatAmount(s)),window.clearInterval(r))},l/u)}}])}(),Ee=__webpack_require__(9528);const ge=function(e,t){var n=jQuery("<"+e+"/>"),a=arguments.length>2?arguments[2]:"";return $.isArray(a)?$.each(a,function(e,t){n.append(t)}):n.html(a),$.each(t,function(e,t){n.attr(e,t)}),n};var _e=__webpack_require__(542),Ae=function(){return(0,n.A)(function e(n){(0,t.A)(this,e),this.animations=[],this.element=$(n),this.form=this.element.find(".form-dynamicquestion"),this.key=this.form.data("key"),this.recoType=this.form.data("recommendation-type"),this.contentContainer=this.form.find(".content-container"),this.questionnaireContainer=this.form.find(".questionnaire"),this.entryQuestion=this.form.find("INPUT[name=entryQuestion]").val(),this.loading=!1,this.isFirstLoad=!0;var a=$(".bcee-main");this.pageUid=a.data("uid"),this.attachEvents(),this.loadQuestion(this.entryQuestion)},[{key:"attachEvents",value:function(){var t=this;this.questionnaireContainer.on("click",".bcee-choice-card",function(n){if(!t.loading){var a=$(n.currentTarget),o=a.data("question");a.addClass("selected"),_e.A.processServiceEvent(e.A.Analytics.PIWIK_PRO,{category:"form",action:"form.productRecommendation."+t.recoType,name:"interacted",value:0}),t.loadQuestion(o)}}),this.questionnaireContainer.on("mouseenter mouseleave",".bcee-choice-card",function(e){var n=$(e.currentTarget).data("answer");void 0!==t.animations[n]&&("mouseenter"===e.type?t.animations[n].play():"mouseleave"===e.type&&t.animations[n].stop())}),this.questionnaireContainer.on("click",".dynamicquestion-retry",function(){t.loadQuestion(t.entryQuestion)})}},{key:"loadQuestion",value:function(t){var n=this;if(this.loading)return!1;this.loading=!0,this.element.find(".choice-card-container").addClass("loading"),Ee.A.post(this.key,[{name:"questionUID",value:t}],function(t){if(n.loading=!1,n.element.find(".choice-card-container").removeClass("loading"),t.result){var a=t.data;"regular"===a.type?n.renderQuestion(a):"finisher"===a.type&&(_e.A.processServiceEvent(e.A.Analytics.PIWIK_PRO,{category:"form",action:"form.productRecommendation."+n.recoType,name:"completed",value:0}),n.renderFinisher(a))}n.isFirstLoad=!1})}},{key:"renderQuestion",value:function(e){var t=this;this.contentContainer.hide(this.isFirstLoad?"fade":"slide",{direction:"left"},250,function(){$.each(t.animations,function(e,t){void 0!==t&&t.destroy()}),t.animations=[];var n=[];$.each(e.answers,function(e,a){n.push(t.renderAnswer(a))}),t.questionnaireContainer.empty(),t.questionnaireContainer.append(ge("h2",{class:"text-center"},e.question)),t.questionnaireContainer.append(ge("div",{class:"choice-card-container"},n)),t.contentContainer.show("slide",{direction:"right"},250)})}},{key:"renderFinisher",value:function(e){var t=this;this.contentContainer.hide("slide",{direction:"left"},250,function(){$.each(t.animations,function(e,t){void 0!==t&&t.destroy()}),t.animations=[];var n="",a=[];$.each(e.finishers,function(o,r){var i=t.renderFinisherItem(r,0===o,o===e.finishers.length-1);0===o?n=i:a.push(i)}),t.questionnaireContainer.empty(),t.questionnaireContainer.append(ge("h2",{class:"text-center"},e.question)),t.questionnaireContainer.append(ge("div",{class:"container-fluid"},n)),t.questionnaireContainer.append(ge("div",{class:"container-fluid bcee-content-box-footer"},[a,ge("a",{class:"bcee-button-action text bcee-icon bcee-ab-recurrent stick-to-footer dynamicquestion-retry"},ge("span",{class:"button-text"},e.retry_label))])),t.contentContainer.show("slide",{direction:"right"},250)})}},{key:"renderFinisherItem",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t="svg"===e.imageType?ge("img",{src:e.imagePath,alt:"data.text",class:"img-fluid"}):this.renderAnimation(e,!0),ge("div",{class:"row"},[ge("div",{class:n?"col-12 col-lg-5 offset-lg-1":"col-12 col-lg-3 offset-lg-3"},t),ge("div",{class:"col-12 col-lg-6"},[ge(n?"h3":"h4",{class:"text-left"},[e.title,ge("span",{class:"light"},e.subtitle)]),ge("p",{class:"text-left"},e.content),!n&&e.cta.title.length>0?ge("a",{class:"btn btn-slim float-left"+e.cta.class,href:e.cta.link,target:e.cta.target},[e.cta.title,ge("span",{class:"bcee-icon bcee-ab-arrow-right"},"")]):""]),n&&e.cta.title.length>0?ge("div",{class:"col-12 text-center"},ge("a",{class:"btn btn-green "+e.cta.class,href:e.cta.link,target:e.cta.target},[e.cta.title,ge("span",{class:"bcee-icon bcee-ab-tick-right"})])):""])}},{key:"renderAnswer",value:function(e){var t;return t="svg"===e.imageType?ge("img",{src:e.imagePath,alt:"data.text",class:"choice-card-img"}):this.renderAnimation(e),ge("div",{class:"bcee-choice-card","data-question":e.target,"data-answer":e.uid},[t,ge("span",{class:"btn choice-card-btn"},e.text)])}},{key:"renderAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===window.bodymovin)return i.A.output("DynamicQuestion","renderAnimation","Lottie not loaded!"),!1;var n=ge("div",{class:"choice-card-img"});return this.animations[e.uid]=window.bodymovin.loadAnimation({container:n[0],renderer:"svg",loop:!0,autoplay:t,path:e.imagePath,rendererSettings:{preserveAspectRatio:"xMidYMid meet",viewBoxOnly:!1}}),n}}])}(),be=(0,n.A)(function e(n){var a=this;(0,t.A)(this,e),this.element=$(n),this.flickity=this.element.flickity({cellAlign:"left",autoPlay:!1,pageDots:!1,contain:!0,freeScroll:!0,groupCells:!0}),setTimeout(function(){return a.element.flickity("resize")},300)}),ke=__webpack_require__(5153),Se=function(){return(0,n.A)(function e(n){(0,t.A)(this,e),this.element=$(n),this.elementUID=this.element.data("uid"),this.form=$(this.element.find("form.sds-sectionForm")),this.formKey=this.form.attr("data-key"),this.defaultEventParam=[{name:"elementUID",value:this.elementUID}],this.basicForms=$(this.element.find("form")),this.modals=[],this.attachEvents(),this.init(),this.attachJSEvents(),this.handleNextStepAction(),this.handleBackStepAction(),this.handleStepNavigation(),this.handleModalAction(),this.copyInputValueToShadowElement(),this.preventDefaultInfoDot(),this.attachHeadroom(),this.attachSidebarEvents(),$(document).on("hidden.bs.modal",function(){$(".modal:visible").length&&$("body").addClass("modal-open")})},[{key:"init",value:function(){Events.fire(e.A.Events.AJAX_STEP_FORM_INIT,{formKey:this.formKey,data:this.buildEventsFieldsValue("init")})}},{key:"attachHeadroom",value:function(){var e=document.querySelector(".sds-header.-headroom");if(CSS&&CSS.supports&&CSS.supports("position","sticky")&&e){var t={offset:document.querySelector(".sds-header__nav").clientHeight+document.querySelector(".sds-header__stepper").clientHeight,tolerance:0,classes:{initial:"-headroom",pinned:"-headroomPinned",unpinned:"-headroomUnpinned",top:"-headroomTop",notTop:"-headroomNotTop",bottom:"-headroomBottom",notBottom:"-headroomNotBottom",frozen:"-headroomFrozen"},onPin:function(){var e;null===(e=document.querySelector(".js-housingSimulator__updateHint"))||void 0===e||e.classList.remove("-headroomPinned")},onUnpin:function(){var e;null===(e=document.querySelector(".js-housingSimulator__updateHint"))||void 0===e||e.classList.add("-headroomPinned")}};new Headroom(e,t).init()}}},{key:"setFieldToValidate",value:function(t,n){var a=$(t).closest("form"),o=a.attr("data-key"),r=this.buildEventsFieldsValue("fieldValidation",a);r.push({name:"fieldToValidate",value:n}),Events.fire(e.A.Events.AJAX_STEP_FORM_FIELD_VALIDATION,{formKey:o,data:r})}},{key:"attachJSEvents",value:function(){var t=this;Events.register(e.A.Events.FORM_ELEMENT_CHANGED,function(e){return t.setFieldToValidate(e.elementNative,e.name),!0}),this.element.find(".sds-snetFrame__settingsOpenMenu BUTTON").on("click",function(){$(".sds-snetFrame").toggleClass("-hasMenuOpen")})}},{key:"renderErrorModal",value:function(e){if(!e||!e.title&&!e.message)return null;var t=document.getElementById("errorModal");if(t)t.querySelector(".icon").src=e.icon,t.querySelector(".title").innerHTML=e.title,t.querySelector(".message").innerHTML=e.message;else{var n=ge("DIV",{class:"sds-modal modal fade ",id:"errorModal","aria-hidden":"true",tabindex:"-1"},ge("DIV",{class:"sds-modal__dialog modal-dialog modal-dialog-centered modal-md"},ge("DIV",{class:"sds-modal__content modal-content"},[ge("DIV",{class:"sds-modal__header modal-header"},[ge("IMG",{class:"align-self-end icon",src:e.icon,alt:"",width:"80"},""),ge("DIV",{class:"sds-modal__title modal-title"},""),ge("BUTTON",{type:"button",class:"sds-iconBtn -iconBtnBase -iconBtnSecondary -ghost sds-modal__close","data-dismiss":"modal","aria-label":"Close"},ge("SPAN",{class:"sds-icon sds-icon-close"},""))]),ge("DIV",{class:"sds-modal__body modal-body"},ge("DIV",{class:"sds-stackSm"},[ge("DIV",{class:"h3 title"},e.title),ge("P",{class:"sds-textBodyLg message"},e.message)])),ge("DIV",{class:"sds-modal__footer modal-footer justify-content-center sds-modal__close"},ge("BUTTON",{type:"button",class:"sds-btn -btnCta -btnCtaPrimary","data-dismiss":"modal"},ge("SPAN",{},"Fermer")))])));this.form.closest("div").append(n)}$("#errorModal").modal("show"),document.querySelector("#errorModal .sds-modal__close").addEventListener("click",function(){$("#errorModal").modal("hide")})}},{key:"attachEvents",value:function(){var t=this;Events.register(e.A.Events.AJAX_STEP_FORM_DISABLED_BTN,function(e){var n;if(e.formKey)n=t.element.find('form[data-key="'+e.formKey+'"]');else{if(!e.modalId)return!0;n=t.element.find('.sds-modal[id="'+e.modalId+'"]')}return"submit"===e.type?n.find('button[type="submit"]').attr("disabled",e.disabled):"next"===e.type&&n.find(".sds-sectionForm__container.-isActive button.nextJs").attr("disabled",e.disabled),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_RESET_INPUT_VALUE,function(e){return t.element.find('*[name="'+e.name+'"]').val(e.value),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_HIDE_INPUT,function(e){var n=t.getInputContent(e.name);return n&&(n.style.display="none"),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_SHOW_INPUT,function(e){var n=t.getInputContent(e.name);return n&&(n.style.display="block"),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_FIELD_VALIDATION,function(e){parseInt(t.form.attr("data-active-step")),parseInt(t.form.attr("data-active-page"));return Ee.A.post(e.formKey,e.data,function(n){t.renderResponse(e.formKey,n.data)}),!0}),Events.register(e.A.Events.AJAX_FORM_SUBMIT,function(e,n){for(var a in e.fields.push({name:"page",value:t.form.attr("data-active-page")}),e.fields.push({name:"step",value:t.form.attr("data-active-step")}),e.fields.push({name:"actionType",value:"submit"}),t.modals)e.fields.push({name:a,value:t.modals[a]});return e.fields=[].concat((0,ke.A)(t.defaultEventParam),(0,ke.A)(e.fields)),n(e),!0},e.A.Priority.EXTRAHIGH),Events.register(e.A.Events.AJAX_STEP_FORM_NEXT,function(e){var n=t.getActionButton(t.form.attr("data-active-step"),t.form.attr("data-active-page"),!1);return t.addBtnLoader(n),Ee.A.post(e.formKey,e.fields,function(a){window.scrollTo({top:0,behavior:"smooth"}),t.removeBtnLoader(n),a.result?t.renderResponse(e.formKey,a.data):t.renderErrorModal(a.error)}),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_BACK,function(e){return Ee.A.post(e.formKey,e.data,function(e){window.scrollTo({top:0,behavior:"smooth"})}),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_INIT,function(e){return Ee.A.post(e.formKey,e.data,function(e){}),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_STEP_CHECKED,function(e){return $.each(e.steps,function(e,n){var a=t.element.find('*[data-sidebar-step="'+n+'"] .sideBarItemStepJs');a.length&&(a.find(".sds-snetFrame__menuItemProgress").css("display","none"),a.find(".sds-snetFrame__menuItemCheckbox").css("display",""))}),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_STEP_ACTIVE,function(e){var n=t.element.find('*[data-sidebar-step="'+e.step+'"] .sideBarItemStepJs');n.length&&(n.find(".sds-snetFrame__menuItemProgress").css("display",""),n.find(".sds-snetFrame__menuItemCheckbox").css("display","none"),e.percentage?n.find(".sds-circularProgress").html(t.renderSideBarItemProgress(e.percentage)):n.find(".sds-circularProgress").html(""));var a=t.element.find('*[data-sidebar-step="'+e.step+'"] .sideBarHeaderItemStepJs');if(a.length){var o=e.percentage?e.percentage:0;a.css("width",o+"%"),a.attr("aria-valuenow",o)}return!0}),Events.register(e.A.Events.AJAX_STEP_FORM_NAVIGATION,function(e){return Ee.A.post(e.formKey,e.data,function(e){}),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,function(e){var n=e.modal,a=e.close,o=t.element.find("#"+n);return a?(o.modal("hide"),t.modals[n]=!1):(o.modal("show"),t.modals[n]=!0,o.find(".sds-modal__close").on("click",function(){o.modal("hide"),t.modals[n]=!1})),!0},e.A.Priority.EXTRAHIGH),Events.register(e.A.Events.AJAX_FORM_RESPONDED,function(e){return e.response.result?t.renderResponse(e.formKey,e.response.data):t.renderErrorModal(e.error),!0})}},{key:"updateSummaryDataAttr",value:function(e,t,n){this.element.find(e+" *[data-redirect-step]").attr("data-redirect-step",t),this.element.find(e+" *[data-redirect-page]").attr("data-redirect-page",n)}},{key:"handleNextStepAction",value:function(){var t=this;this.element.find(".nextJs").on("click",function(){Events.fire(e.A.Events.AJAX_STEP_FORM_NEXT,{formKey:t.formKey,fields:t.buildEventsFieldsValue("next")})})}},{key:"handleStepNavigation",value:function(){var t=this;this.element.on("click","[data-redirect-step]",function(n){n.preventDefault();var a=t.buildEventsFieldsValue("navigate");a.push({name:"redirectStep",value:$(n.currentTarget).attr("data-redirect-step")}),a.push({name:"redirectPage",value:$(n.currentTarget).attr("data-redirect-page")}),Events.fire(e.A.Events.AJAX_STEP_FORM_NAVIGATION,{formKey:t.formKey,data:a})})}},{key:"handleBackStepAction",value:function(){var t=this;this.element.find(".backJs").on("click",function(){Events.fire(e.A.Events.AJAX_STEP_FORM_BACK,{formKey:t.formKey,data:t.buildEventsFieldsValue("back")})})}},{key:"handleModalAction",value:function(){var t=this;this.element.find(".modalNextJs").on("click",function(n){var a=t.buildEventsFieldsValue("next");Events.fire(e.A.Events.AJAX_STEP_FORM_NEXT,{formKey:t.formKey,fields:a})})}},{key:"renderSideBarItemProgress",value:function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 36 36");var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"),n.setAttribute("stroke-dasharray",e+", 100"),n.setAttribute("class","sds-circularProgress__shape"),t.appendChild(n),t}},{key:"copyInputValueToShadowElement",value:function(){}},{key:"renderResponse",value:function(e,t){var n=this;$.each(t,function(t,a){a.error?n.renderFeedback(e,a.name,a.errorMessages):a instanceof Object&&a.name&&n.removeFeedback(e,a.name)})}},{key:"renderFeedbackMessages",value:function(e){return[ge("DIV",{class:"invalid-feedback"},e)]}},{key:"buildEventsFieldsValue",value:function(e,t){var n=[],a=t?t.data("key"):this.form.data("key");for(var o in n=se.getFormValues(a),this.modals)n.push({name:o,value:this.modals[o]});return n.push({name:"page",value:this.form.attr("data-active-page")}),n.push({name:"step",value:this.form.attr("data-active-step")}),n.push({name:"actionType",value:e}),n=[].concat((0,ke.A)(this.defaultEventParam),(0,ke.A)(n))}},{key:"removeFeedback",value:function(e,t){var n=se.getFormElement(e,t);n&&n.hideError()}},{key:"renderFeedback",value:function(e,t,n){var a=se.getFormElement(e,t);a&&(a.setError(n),a.showError())}},{key:"preventDefaultInfoDot",value:function(){$(".sds-infoDot.sds-checkbox__infoDot").on("click",function(e){e.preventDefault()})}},{key:"getActionButton",value:function(e,t,n){return n?document.querySelector('[data-step="'+e+'"][data-page="'+t+'"] button[type="submit"]'):document.querySelector('[data-step="'+e+'"][data-page="'+t+'"] .nextJs')}},{key:"addBtnLoader",value:function(e){e&&e.classList.add("-isLoading")}},{key:"removeBtnLoader",value:function(e){e&&e.classList.remove("-isLoading")}},{key:"attachSidebarEvents",value:function(){var e,t=window.matchMedia("(max-width: 1280px)"),n=this.element.find('[data-toggle="tooltip"]');!0!==t.matches&&n.tooltip("disable"),null===(e=document.querySelector(".js-sidebar-open"))||void 0===e||e.addEventListener("click",function(){n.tooltip("toggleEnabled")}),t.addEventListener("change",function(e){var t=document.querySelectorAll(".sds-snetFrame.-hasMenuOpen").length>0;t||n.tooltip(e.matches?"enable":"disable"),t&&!1===e.matches&&document.querySelector(".sds-snetFrame").classList.remove("-hasMenuOpen")})}},{key:"getInputContent",value:function(e){var t=se.getFormElement(this.formKey,e);if(t)return t.domContainer}},{key:"updateInputAmount",value:function(e,t){var n=t||0,a=se.getFormElement(this.formKey,e);a&&a.updateValue(n)}}])}();function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(we=function(){return!!e})()}var Te=function(a){function o(e){var n,a,r,i;return(0,t.A)(this,o),a=this,r=o,i=[e],r=(0,Z.A)(r),(n=(0,Q.A)(a,we()?Reflect.construct(r,i||[],(0,Z.A)(a).constructor):r.apply(a,i))).agencyName="",n.agencyAddress="",n.values=[],n.initAgencyScroll=!0,n.hasScroll=!1,n.attachCustomEvents(),n.handleSearchAgency(),n.attachModalEvents(),n.attachContactFormJSEvents(),n}return(0,ee.A)(o,a),(0,n.A)(o,[{key:"handleModalAction",value:function(){this.element.find(".modalNextJs").on("click",function(e){$("#newClientModal").modal("hide"),$("#housingProjectModal").modal("hide")})}},{key:"attachCustomEvents",value:function(){var t=this;Events.register(e.A.Events.AJAX_STEP_FORM_APPOINTMENT_SEARCH_AGENCY,function(e){var t=e.formKey;return Ee.A.post(t,e.data,function(e){}),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_SUMMARY_VALUES,function(e){var n=e.position.step,a=e.position.page,o=e.customValues,r=e.formValues;return t.values=r,2===n&&2===a&&t.processAgencyList(),2===n&&3===a&&t.element.find("input[name='agencyCode']").val(r.agency.value),4===n&&1===a?(t.element.find(".summaryAppointmentType").html(o.appointmentType),t.renderSummary(r,o)):4===n&&2===a&&t.renderRecap(r,o),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_DYNAMIC_DATA,function(e){return 2===e.position.step&&3===e.position.page&&"agency"===e.key&&(Object.keys(e.data).length>0?(t.agencyName=e.data.name,t.agencyAddress=e.data.address,t.element.find(".agencyInfo").html(t.renderAgencyInfo(t.agencyName,t.agencyAddress))):t.element.find(".agencyInfo").html(""),t.element.find("input[name='agencyCode']").val(e.data.code)),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_NEXT_POSITION_UPDATED,function(e){return 2===e.position.step&&2===e.position.page&&t.scrollToSelectedAgency(),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_BACK_POSITION_UPDATED,function(e){return 2===e.position.step&&2===e.position.page&&t.scrollToSelectedAgency(),!0})}},{key:"handleSearchAgency",value:function(){var e=this;this.element.find("#inputsearch").on("keyup",function(t){e.processAgencyList(!1)}),this.element.find(".sds-input__clearBtn button").on("click",function(){$("#inputsearch").val(""),e.processAgencyList(!1)})}},{key:"renderSummary",value:function(e,t){var n=[],a=[],o=e.meeting,r=e.agency,i=e.availability,s=e.email,l=e.firstName.value,c=e.lastName.value;r.value?a.push(this.summaryItem("sds-icon-pin",r.step,r.page,this.agencyName,[this.agencyAddress])):a.push(this.summaryItem("sds-icon-socialteams",o.step,o.page,o.value,[])),n.push(this.summaryItem("sds-icon-calendar",i.step,i.page,t.dayMoment,[t.hourMoment]));var u=l+" "+c,d=t.prefixedPhoneNumber?t.prefixedPhoneNumber:null,m=[s.value,d];n.push(this.summaryItem("sds-icon-useridentity",s.step,s.page,u,m)),this.element.find(".summaryContent").html(n),this.element.find(".summaryMeeting .summaryItem").replaceWith(a)}},{key:"renderRecap",value:function(e,t){var n=[],a=e.meeting;e.agency.value?n.push(this.summaryItem("sds-icon-pin",null,null,this.agencyName,[this.agencyAddress])):n.push(this.summaryItem("sds-icon-socialteams",null,null,a.value,[])),n.push(this.summaryItem("sds-icon-calendar",null,null,t.dayMoment,[t.hourMoment])),this.element.find(".recapContent").html(n)}},{key:"summaryItem",value:function(e,t,n,a,o){for(var r=[],i=0;i<o.length;i++)r.push(ge("P",{class:"sds-textWrap"},o[i]));var s=t?"col-md-6 summaryItem":"col-md-6",l=t?"sds-actionCard -action sds-sectionForm__actionCard":"sds-actionCard -top sds-contactBlock__actionCard",c=null;return t&&n&&(c=ge("BUTTON",{type:"button",class:"sds-iconBtn -iconBtnBase -iconBtnSecondary sds-actionCard__action","data-redirect-step":t,"data-redirect-page":n},ge("SPAN",{class:"sds-icon sds-icon-edit"},""))),ge("DIV",{class:s},[ge("DIV",{class:l},[ge("DIV",{class:"sds-actionCard__inner"},[ge("SPAN",{class:"sds-iconCircle -info100","aria-hidden":"true"},ge("SPAN",{class:"sds-icon "+e},"")),ge("DIV",{class:"sds-actionCard__text sds-stackXxs"},[ge("DIV",{class:"sds-actionCard__title sds-textBodyLg"},a),r])]),c])])}},{key:"advisorItem",value:function(e){var t=this.element.find(".recapContent").data("advisor-img");return ge("DIV",{class:"col-lg-4 col-md-6"},[ge("DIV",{class:"sds-actionCard -top sds-contactBlock__actionCard"},[ge("DIV",{class:"sds-actionCard__inner"},[ge("SPAN",{class:"sds-avatar centeredBgi -medium",style:"background-image: url("+t+"); background-size: cover"}),ge("DIV",{class:"sds-actionCard__text sds-stackXxs"},[ge("DIV",{class:"sds-actionCard__title sds-textBodyLg"},e)])])])])}},{key:"attachModalEvents",value:function(){$(".noReasonModalBtn").on("click",function(t){t.preventDefault(),Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"noReasonModal"})}),$("#contactConfirmationModal").on("hide.bs.modal",function(){window.location.reload()})}},{key:"renderAgencyInfo",value:function(e,t){return ge("DIV",{class:"sds-avatarText -medium"},ge("DIV",{class:"sds-avatarText__content sds-stackXs"},[ge("DIV",{class:"h4"},e),ge("DIV",{class:""},t)]))}},{key:"processAgencyList",value:function(){var e=$("#inputsearch").val().trim().toLowerCase();e?$("#inputsearch").closest(".sds-input.-search").addClass("-hasValue"):$("#inputsearch").closest(".sds-input.-search").removeClass("-hasValue");var t,n,a="project_funding"===this.values.type.value,o="housing"===this.values.project.value,r=a&&o,i=0,s=[];($(".agencyList .sds-spotSelectList LI.col").each(function(t,n){var a,o,l=n.querySelector(".sds-spotSelect"),c="true"===$(l).attr("data-housingadvisor"),u=$(l).closest(".sds-spotSelect").find(".sds-spotSelect__title label").text().toLowerCase(),d=$(l).closest(".sds-spotSelect").find(".sds-spotSelect__text p label").text().toLowerCase();null===(a=n.classList)||void 0===a||a.remove("sds-spotSelectList__firstItem"),null===(o=n.classList)||void 0===o||o.remove("sds-spotSelectList__lastItem"),r&&c&&(u.indexOf(e)>=0||d.indexOf(e)>=0)||!r&&(u.indexOf(e)>=0||d.indexOf(e)>=0)?($(l).css("display",""),s.push(n)):($(l).css("display","none"),i++)}),s.length>0)&&(null===(t=s[0].classList)||void 0===t||t.add("sds-spotSelectList__firstItem"),null===(n=s[s.length-1].classList)||void 0===n||n.add("sds-spotSelectList__lastItem"));var l=document.querySelectorAll(".agencyList .sds-spotSelect").length,c=document.querySelector(".agencyList .sds-emptyState").classList,u=document.querySelector(".agencyList .list").classList;i>=l?(c.remove("d-none"),u.add("d-none")):(c.add("d-none"),u.remove("d-none")),this.hasScroll||(this.scrollToSelectedAgency(),this.hasScroll=!0)}},{key:"attachContactFormJSEvents",value:function(){$(".contactModalBtn").on("click",function(t){t.preventDefault(),Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"contactModal"})})}},{key:"scrollToSelectedAgency",value:function(){var e;null===(e=document.querySelector(".agencyList"))||void 0===e||e.scrollTo({top:0}),setTimeout(function(){var e=$("input[name='agency']:checked");if(0!==e.length){var t,n=e[0].getBoundingClientRect().top;if(!0===window.matchMedia("(max-width: 1280px)").matches)window.scrollTo({top:n-55,left:0,behavior:"smooth"});else null===(t=document.querySelector(".agencyList"))||void 0===t||t.scrollTo({top:n-200,left:0,behavior:"smooth"})}},200)}}])}(Se),Le=__webpack_require__(4586);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach(function(t){(0,Le.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ie=function(){return!!e})()}var Ce=function(o){function r(e){var n,a,o,i;return(0,t.A)(this,r),a=this,o=r,i=[e],o=(0,Z.A)(o),(n=(0,Q.A)(a,Ie()?Reflect.construct(o,i||[],(0,Z.A)(a).constructor):o.apply(a,i))).lastContribution=null,n.refreshResult=!1,n.showUpdate=!1,n.attachCustomEvents(),n.openModalEvents(),n.OpenDetailsCalc(),n.fillTrackColor(),n.AssignValueSlider(),n.handleStatus(),n.handleRestartStepAction(),n.attachScrollEvents(),n}return(0,ee.A)(r,o),(0,n.A)(r,[{key:"attachCustomEvents",value:function(){var t=this;Events.register(e.A.Events.AJAX_STEP_FORM_SUMMARY_VALUES,function(e){var n=e.position.step,a=e.position.page;if(2===n&&2===a){var o,r="",i="";"Build"===(null===(o=e.formValues)||void 0===o||null===(o=o.project)||void 0===o?void 0:o.value)?(r=document.getElementById("trans_construction_price").getAttribute("data-value"),i=document.getElementById("trans_construction_cost").getAttribute("data-value")):(r=document.getElementById("trans_purchase_price").getAttribute("data-value"),i=document.getElementById("trans_purchase_cost").getAttribute("data-value")),document.querySelector('LABEL[for="inputprice"]').innerHTML=r,document.querySelector('LABEL[for="inputrecapamountproperty"]').innerHTML=r,document.querySelector('LABEL[for="inputconstructionCost"]').innerHTML=i,document.querySelector('LABEL[for="inputrecapcost"]').innerHTML=i}return 2===n&&3===a&&$(".sds-inputFocusMessage__message.solo").addClass("d-flex"),3===n&&1===a&&t.messageShown(),4===n&&1===a&&(t.renderSummary(e),t.openModalChoice(),t.refreshResult=!0),!0}),Events.register(e.A.Events.AJAX_FORM_SUBMIT,function(e,n){return e.fields.push({name:t.formKey,value:JSON.stringify(se.getFormValues(t.formKey))}),n(e),!0},e.A.Priority.HIGH);var n=window.matchMedia("(max-width: 1280px)");$("#simulationDetail").on("shown.bs.collapse",function(){var e,t=document.getElementById("simulationDetail");!0===n.matches?window.scrollTo({top:t.getBoundingClientRect().top+window.scrollY-52,left:0,behavior:"smooth"}):null===(e=document.querySelector(".sds-sectionForm__container.-isActive .sds-sectionForm__itemBody"))||void 0===e||e.scrollTo({top:(null==t?void 0:t.offsetTop)+48,left:0,behavior:"smooth"})})}},{key:"attachScrollEvents",value:function(){var e=this,t=document.querySelector(".js-housing-footer-button"),n=document.querySelector(".js-housing-cards-column");new IntersectionObserver(function(e,n){e[0].intersectionRatio>0?null==t||t.classList.add("-shown"):null==t||t.classList.remove("-shown")}).observe(document.getElementById("buttonRdvTrigger")),new IntersectionObserver(function(e,t){e[0].intersectionRatio>0?null==n||n.classList.add("sticky-top"):null==n||n.classList.remove("sticky-top")}).observe(document.getElementById("simulationDetail"));var a=document.querySelector(".js-housing-monthly-total"),o=document.querySelector(".js-housingSimulator__updateHint");a&&(null==o||o.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),new IntersectionObserver(function(t,n){t[0].intersectionRatio>0?(null==o||o.classList.remove("-shown"),e.showUpdate=!1):e.showUpdate=!0}).observe(a))}},{key:"handleStatus",value:function(){var e=document.getElementById("inputstatus"),t=document.querySelector('[data-name="revenues-couple"]'),n=document.querySelector('[data-name="charges-couple"]');e.addEventListener("change",function(e){"1"!==e.target.value?(t.classList.remove("d-none"),n.classList.remove("d-none")):(t.classList.add("d-none"),n.classList.add("d-none"),t.querySelector(".sds-input.form-control.sds-input-amount.input-value").value="",n.querySelector(".sds-input.form-control.sds-input-amount.input-value").value="")})}},{key:"handleRestartStepAction",value:function(){document.querySelectorAll(".js-form-housing-restart").forEach(function(e){e.addEventListener("click",function(){window.location.reload()})})}},{key:"renderSummary",value:function(e){var t,n,o,r=e.formValues,i=e.customValues;document.querySelector(".js-form-amount-loan").innerHTML=a.A.formatAmount(i.loan.loanAmount.value);var s=document.querySelector(".js-form-amount-warning-own-need"),l=document.querySelector(".js-form-amount-warning-renting");null==s||s.classList.add("d-none"),null==l||l.classList.add("d-none"),i.showRentingRegulatoryMessage?null==l||l.classList.remove("d-none"):i.showOwnNeedRegulatoryMessage&&(null==s||s.classList.remove("d-none"));var c=null!==(t=r.price.value)&&void 0!==t?t:0;null!==r.recapamountproperty.value&&(c=r.recapamountproperty.value),this.updateInputAmount("recapamountproperty",c);var u=null!==(n=r.constructionCost.value)&&void 0!==n?n:0;null!==r.recapcost.value&&(u=r.recapcost.value),this.updateInputAmount("recapcost",u);var d=null!==(o=r.contribution.value)&&void 0!==o?o:0;if(null!==r.personalContribution.value){var m,h=null!==(m=r.personalContribution.value)&&void 0!==m?m:0;d=h!==this.lastContribution?h:this.lastContribution}this.lastContribution=d,this.updateInputAmount("personalContribution",d);var f=se.getFormElement(this.formKey,"durationloan");f&&(f.setValue(i.loan.loanDuration/12,!0),f.updateShadowValue(i.loan.loanDuration/12)),this.updateInputAmount("recapregisterfees",Math.floor(100*i.registrationFees.value)/100),this.updateInputAmount("recaptaxcredit",i.taxCredit.value);var p=i.notaryFees.value+i.instructionFees.value+i.commissionAmount.value;this.updateInputAmount("recapotherfees",p),document.querySelector(".js-form-project-costs").innerHTML=a.A.formatAmount(Math.round(100*i.projectCost.value)/100),this.renderResultApi(i,r),document.querySelectorAll("#requestChoiceModal A.sds-btn").forEach(function(e){var t="";e.hasAttribute("data-href")?t=e.getAttribute("data-href"):(t=e.getAttribute("href"),e.setAttribute("data-href",t)),e.classList.contains("js-isSnet")?t+=i.hasOwnProperty("summarySnetUrlParams")?i.summarySnetUrlParams:"":t+=i.hasOwnProperty("summaryUrlParams")?i.summaryUrlParams:"",e.setAttribute("href",t)})}},{key:"renderResultApi",value:function(e,t){var n={monthly:e.monthlyPayment.value,monthlyInsurance:e.monthlyPaymentWithInsurance.value,rate:e.appliedRate,rateInsurance:e.appliedRate,taeg:e.taeg},o=document.querySelector(".sds-btn.choice");o.removeAttribute("disabled"),"Just"===e.feasibility?n=Oe(Oe({},n),{},{img:"sdsillu-simuokay.svg",class:"-processing",message:"just"}):"NotFeasible"===e.feasibility?(n=Oe(Oe({},n),{},{img:"sdsillu-simunope.svg",class:"-negative",message:"nok"}),o.setAttribute("disabled","")):"Feasible"===e.feasibility&&(n=Oe(Oe({},n),{},{img:"sdsillu-simugood.svg",class:"-positive",message:"good"})),$(".feasibility-img").html(ge("img",{class:"img-fluid d-block mx-auto",src:"/fileadmin/mediatheque/Simulateur_logement_v2/"+n.img,alt:""})),$(".feasibility-title:not([d-none])").find("div.js-feasibility-option").addClass("d-none"),$(".feasibility-title").find("[data-name='"+n.message+"']").removeClass("d-none"),document.querySelectorAll(".js-housing-cards .sds-amount").forEach(function(e){e.classList.remove("-positive"),e.classList.remove("-processing"),e.classList.remove("-negative"),e.classList.add(n.class)}),document.querySelector(".js-housing-rate").innerHTML=a.A.formatAmount(n.rate),document.querySelector(".js-housing-rate-asrd").innerHTML=a.A.formatAmount(n.rateInsurance),document.querySelector(".js-housing-monthly").innerHTML=a.A.formatAmount(Math.ceil(n.monthly)),document.querySelector(".js-housing-monthly-asrd").innerHTML=a.A.formatAmount(Math.ceil(n.monthlyInsurance));var r=0;null!==t.charges.value&&(r+=parseFloat(t.charges.value)),null!==t.chargesCouple.value&&(r+=parseFloat(t.chargesCouple.value)),document.querySelector(".js-housing-monthly-total").innerHTML=a.A.formatAmount(Number(Math.ceil(n.monthly)+r).toFixed(2)),document.querySelector(".js-housing-monthly-total-asrd").innerHTML=a.A.formatAmount(Number(Math.ceil(n.monthlyInsurance)+r).toFixed(2));var i=a.A.formatAmount(Math.round(100*n.taeg)/100);if(document.querySelector(".js-housing-taeg").innerHTML=i,document.querySelector(".js-housing-taeg-asrd").innerHTML=i,this.refreshResult){var s=document.querySelector(".js-housingSimulator__updateHint");s&&this.showUpdate&&s.classList.add("-shown"),document.querySelectorAll(".sds-simulatorResultCard").forEach(function(e){e.classList.add("sds-interactionHint")}),setTimeout(function(){document.querySelectorAll(".sds-simulatorResultCard").forEach(function(e){e.classList.remove("sds-interactionHint")})},255)}}},{key:"messageShown",value:function(){$(".sds-inputFocusMessage__row").each(function(e,t){$(t).find(".sds-input.form-control").on("focus",function(e){$(".sds-inputFocusMessage__row").removeClass("-messageShown"),$(e.target).closest(".sds-inputFocusMessage__row").addClass("-messageShown")})})}},{key:"openModalEvents",value:function(){this.element.find("#copy").on("click",function(){Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"sendCopyModal"})})}},{key:"openModalChoice",value:function(){this.element.find(".choice").on("click",function(){Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"requestChoiceModal"})})}},{key:"OpenDetailsCalc",value:function(){$("#detail").on("click",function(){"none"!==$(".detail-input").css("display")?$(".detail-input").css("display","none"):($(".detail-input").css("display","block"),$("#detail").addClass("d-none"),$("#detailClosed").removeClass("d-none"))}),$("#detailClosed").on("click",function(){$(".detail-input").css("display","none"),$("#detail").removeClass("d-none"),$("#detailClosed").addClass("d-none")})}},{key:"fillTrackColor",value:function(){var e=document.querySelectorAll("input[type='range']");function t(e){var t=getComputedStyle(e),n=t.getPropertyValue("--custom-range-progress-color"),a=t.getPropertyValue("--custom-range-track-color"),o=100*(e.value-e.min)/(e.max-e.min)+"%",r=e.parentNode.querySelector(".sds-range__indicator");e.style.backgroundImage="linear-gradient( to right, ".concat(n,", ").concat(n," ").concat(o,", ").concat(a," ").concat(o,")"),r&&(r.textContent=e.value,r.style.left="calc(".concat(o,")"),r.style.transform="translateX(-".concat(o,")"))}e.forEach(function(e,n){t(e)}),e.forEach(function(e,n){e.addEventListener("input",function(){t(e)})})}},{key:"AssignValueSlider",value:function(){document.querySelectorAll(".range-input-indicator").forEach(function(e){e.addEventListener("change",function(t){e.setAttribute("value",t.currentTarget.value)})})}},{key:"updateInputAmount",value:function(e,t){var n=se.getFormElement(this.formKey,e);if(n&&n.updateValue){var a=t||0;n.updateValue(a,!0)}}}])}(Se);const Re=function(){return(0,n.A)(function e(){(0,t.A)(this,e),this.attachEvents()},[{key:"attachEvents",value:function(){var e;null===(e=document.getElementById("piwik-consent-manager-link"))||void 0===e||e.addEventListener("click",function(e){e.preventDefault(),ppms.cm.api("openConsentForm",function(){},function(){})})}}])}();function Fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fe=function(){return!!e})()}var xe=function(o){function r(e){var n,a,o,i;return(0,t.A)(this,r),a=this,o=r,i=[e],o=(0,Z.A)(o),(n=(0,Q.A)(a,Fe()?Reflect.construct(o,i||[],(0,Z.A)(a).constructor):o.apply(a,i))).agencyName="",n.agencyAddress="",n.values=[],n.attachCustomJSEvents(),n.attachCustomEvents(),n.attachModalEvents(),n}return(0,ee.A)(r,o),(0,n.A)(r,[{key:"attachCustomJSEvents",value:function(){var t=this;$("#info-table-collapse").on("show.bs.collapse",function(){var e=document.getElementById("detailBtn");e.querySelector('[data-action="hide"]').style.display="block",e.querySelector('[data-action="show"]').style.display="none"}),$("#info-table-collapse").on("shown.bs.collapse",function(){var e=document.getElementById("info-table-collapse"),n=document.querySelector(".sds-sectionForm__container.-isActive .sds-sectionForm__itemBody").scrollTop,a=e.getBoundingClientRect().top;n||(n=window.scrollY),n<a&&t.scrollToElement(a-150)}),$("#info-table-collapse").on("hide.bs.collapse",function(){var e=document.getElementById("detailBtn");e.querySelector('[data-action="hide"]').style.display="none",e.querySelector('[data-action="show"]').style.display="block"}),document.querySelectorAll(".gdprModal").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"gdprModal"})})}),document.querySelectorAll(".conditionModal").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"conditionModal"})})})}},{key:"attachCustomEvents",value:function(){var t=this;Events.register(e.A.Events.AJAX_STEP_FORM_SUMMARY_VALUES,function(e){if(1===e.position.step&&1===e.position.page){var n=e.formValues.reference.value,a=e.customValues.source;document.querySelectorAll(".js-stepform-housing-loan-snet").forEach(function(e){a&&(e.href+=(e.href.includes("?")?"&":"?")+"origin="+a),n&&(e.href+=(e.href.includes("?")?"&":"?")+"externalReference="+n)})}else 3===e.position.step?t.renderLoanAmount(e.customValues.loan_amount):4===e.position.step?(t.updateInputAmount("totalIncomes",e.customValues.totalIncomes),t.updateInputAmount("totalExpenses",e.customValues.totalExpenses)):5===e.position.step&&1===e.position.page?t.renderSummary(e.formValues,e.customValues):5===e.position.step&&2===e.position.page&&t.element.find(".confirmationMessage").html(e.customValues.confirmationMessage);return!0}),Events.register(e.A.Events.AJAX_STEP_FORM_DYNAMIC_DATA,function(e){return 1===e.position.step&&t.renderLoanAmount(e.data.loan_amount),!0}),Events.register(e.A.Events.AJAX_FORM_RESPONDED,function(e){var n,a;return t.element.find("#confirmationPdfDownload").attr("download",null===(n=e.response.data.customData)||void 0===n?void 0:n.pdf.name),t.element.find("#confirmationPdfDownload").attr("href",null===(a=e.response.data.customData)||void 0===a?void 0:a.pdf.link),!0}),Events.register(e.A.Events.AJAX_STEP_FORM_SHOW_INPUT,function(e){if("coapplicant_birthdate"===e.name){var n=document.querySelector('*[name="'+e.name+'"]');t.scrollToElement(n.getBoundingClientRect().top)}return!0}),Events.register(e.A.Events.INPUT_AMOUNT_REMOVED,function(e){var n=document.querySelector('*[name="'+e.name+'"]');return t.setFieldToValidate(n,e.name),!0})}},{key:"renderSummary",value:function(e,t){this.element.find(".objectValue").html(e.price.value),this.element.find(".totalSumFunds").html(e.savings.value?e.savings.value:0),this.element.find(".loanAmount").html(t.loan_amount),this.element.find(".loanDuration").html(e.loan_duration.value),this.element.find(".insurance").html(t.insurance),this.element.find(".customer").html(t.client),this.element.find(".agency").html(t.agency),this.element.find(".loanObjective").html(t.loan_objective),this.element.find(".itemStreet").html(e.item_street.value),this.element.find(".itemLocality").html(e.item_locality.value),this.element.find(".itemCountry").html(t.item_country),"other"===e.item_country.value?(this.element.find(".itemOtherCountry").html(e.item_other_country.value),this.element.find(".itemOtherCountry").closest("tr").show()):this.element.find(".itemOtherCountry").closest("tr").hide();var n=new Date(e.birthdate.value);if(this.element.find(".name").html(e.name.value),this.element.find(".firstname").html(e.firstname.value),this.element.find(".birthdate").html(n.toLocaleDateString().replaceAll("/",".")),this.element.find(".birthplace").html(e.birthplace.value),this.element.find(".street").html(e.street.value),this.element.find(".locality").html(e.locality.value),this.element.find(".country").html(t.country),"other"===e.country.value?(this.element.find(".otherCountry").html(e.other_country.value),this.element.find(".otherCountry").closest("tr").show()):this.element.find(".otherCountry").closest("tr").hide(),this.element.find(".phone").html(t.phone_number),this.element.find(".email").html(e.email.value),"true"===e.coapplicant.value){var a=new Date(e.coapplicant_birthdate.value);this.element.find(".coapplicantName").html(e.coapplicant_name.value),this.element.find(".coapplicantFirstName").html(e.coapplicant_firstname.value),this.element.find(".coapplicantBirthdate").html(a.toLocaleDateString().replaceAll("/",".")),this.element.find(".coApplicant").show()}else this.element.find(".coApplicant").hide()}},{key:"attachModalEvents",value:function(){$(".noReasonModalBtn").on("click",function(t){t.preventDefault(),Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"initModal"})})}},{key:"updateInputAmount",value:function(e,t){var n=t||0,o=document.getElementById("input"+e);o&&(o!==document.activeElement&&(n=a.A.formatAmount(n)),o.value=n,document.querySelector('div[name="'+e+'"]').innerHTML=String(n))}},{key:"scrollToElement",value:function(e){var t;!0===window.matchMedia("(max-width: 1280px)").matches?window.scrollTo({top:e+window.scrollY,left:0,behavior:"smooth"}):null===(t=document.querySelector(".sds-sectionForm__container.-isActive .sds-sectionForm__itemBody"))||void 0===t||t.scrollTo({top:e,left:0,behavior:"smooth"})}},{key:"renderLoanAmount",value:function(e){var t=document.getElementById("loanAmount"),n=t.innerHTML;n&&"0,00"!==e?(e=a.A.formattedAmountToFloat(e),n=a.A.formattedAmountToFloat(n),this.animateValue(t,n,e,500)):t.innerHTML=e}},{key:"animateValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;if(e){var o=function(){var t=(new Date).getTime(),o=Math.max((c-t)/a,0),r=Math.round(n-o*i);e.innerHTML=new Intl.NumberFormat("de-DE",{minimumFractionDigits:2}).format(r),r==n&&clearInterval(l)},r=e.innerHTML,i=(n=n||parseInt(r.replace(/\D/g,"")))-t,s=Math.abs(Math.floor(a/i));s=Math.max(s,50);var l,c=(new Date).getTime()+a;l=setInterval(o,s),o()}}}])}(Se),Pe=__webpack_require__(7154),De="changePopOver",Ne=function(){return(0,n.A)(function e(){(0,t.A)(this,e),this.devices=document.querySelectorAll(".sds-snetGuide__tab"),this.devices.length>0&&this.initTour()},[{key:"initTour",value:function(){var t=this,n=function(e){return{placement:e,modifiers:[{name:"offset",options:{offset:[0,32]}}]}};function a(e,t,n){var a=e.dataset.focusPointX,o=e.dataset.focusPointY;e.dataset.imgSrc&&(n.src=e.dataset.imgSrc),a&&o&&(t.style.top=o+"%",t.style.left=a+"%",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=window.innerWidth;if(n<parseInt(Pe.BreakpointLg)){var a=document.querySelector(".sds-snetGuide__tab.show"),o=null==a?void 0:a.dataset.pkType;if(o){var r,i,l,c=a.querySelector(".sds-snetGuide__tabDeviceInner"),u=a.querySelector("img.img-fluid"),d=parseInt(s.SpacerGridGutter)/2;if("mobile"===o){r=n>=(l=320)+2*d?l:n-2*d,r=u.getBoundingClientRect().width;var m=400/(i=u.getBoundingClientRect().height)*100;parseInt(t)+10>=m?c.style.top=400-i-16+"px":c.style.top="0"}if("desktop"===o&&n<=(r=500)+2*d){var h=(l=n-2*d)/r*100;parseInt(e)+10>=h?c.style.left="-"+(r-l+16)+"px":c.style.left="0"}}}}(e.dataset.focusPointX,e.dataset.focusPointY),setTimeout(function(e){e.dispatchEvent(new Event(De))},600,t))}function o(e){window.innerWidth>=parseInt(Pe.BreakpointLg)&&e.forEach(function(e,t){var a=e.querySelector(".sds-snetGuide__tabDeviceInner");a.style.top=0,a.style.left=0;var o=e.querySelector(".sds-snetGuide__indicator"),r=e.querySelector(".sds-snetGuide__popover.show");setTimeout(function(e){r&&r.dataset&&Popper.createPopper(e,r,n(r.dataset.placement)).update()},200,o)})}this.devices.forEach(function(e,t){var o,r=e.querySelectorAll(".sds-popover"),i=e.querySelector(".sds-snetGuide__indicator"),s=e.querySelector(".sds-snetGuide__deviceImg img"),l=e.querySelector('.sds-popover[data-step="step1"]');if(l){var c=Popper.createPopper(i,l,n(l.dataset.placement));$('button[data-toggle="tab"]').on("shown.bs.tab",function(e){c.update()})}r.forEach(function(t,n){var l,c;null===(l=t.querySelectorAll("[data-guide-popover-next]"))||void 0===l||l.forEach(function(t){t.addEventListener("click",function(t){o=e.querySelector("[data-step="+t.currentTarget.dataset.guidePopoverNext+"]"),r.forEach(function(e){e.classList.remove("show")}),a(o,i,s)})}),null===(c=t.querySelectorAll("[data-guide-popover-previous]"))||void 0===c||c.forEach(function(t){t.addEventListener("click",function(t){o=e.querySelector("[data-step="+t.currentTarget.dataset.guidePopoverPrevious+"]"),r.forEach(function(e){e.classList.remove("show")}),a(o,i,s)})})}),i.addEventListener(De,function(e){var t;o.classList.add("show");var a=null!==(t=o.dataset.placement)&&void 0!==t?t:"bottom";Popper.createPopper(i,o,n(a))})}),Events.register(e.A.Events.WINDOW_RESIZE,function(){return o(t.devices),!0});var i="onboarding-mobile-tab",l="onboarding-desktop-tab",c=r.A.isMobile()?i:l,u=r.A.isMobile()?l:i;this.activateTab(c).then(function(){return o(t.devices)}).catch(function(){t.activateTab(u).then(function(){return o(t.devices)}).catch()})}},{key:"activateTab",value:function(e){return new Promise(function(t,n){var a=document.getElementById(e),o=document.querySelector('[data-target="#'.concat(e,'"]'));a?(o?o.click():$(a).tab("show"),t()):n()})}}])}();function qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Be=function(){return(0,n.A)(function e(){(0,t.A)(this,e),this.overflowGradientBehaviour()},[{key:"overflowGradientBehaviour",value:function(){var e,t,n,a=document.querySelectorAll("[data-sds-gradient-overflow-h]"),o=new ResizeObserver((e=function(e){var t,n=qe(e);try{var a=function(){var e=t.value.target,n=e.querySelector("[data-sds-gradient-overflow-h-wrapper]"),a=e.querySelector("[data-sds-gradient-overflow-h-inner]"),o=!1;a.clientWidth>n.clientWidth?o=!0:(o=!1,e.classList.remove("-hasShadowLeft","-hasShadowRight")),o&&(e.classList.add("-hasShadowRight"),n.addEventListener("scroll",function(){var t=a.clientWidth-n.clientWidth,o=n.scrollLeft;o<=.5?(e.classList.add("-hasShadowRight"),e.classList.remove("-hasShadowLeft")):Math.abs(o-t)<=.5?(e.classList.remove("-hasShadowRight"),e.classList.add("-hasShadowLeft")):e.classList.add("-hasShadowRight","-hasShadowLeft")}))};for(n.s();!(t=n.n()).done;)a()}catch(e){n.e(e)}finally{n.f()}},t=75,n=0,function(){for(var a=this,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];clearTimeout(n),n=setTimeout(function(){return e.apply(a,r)},t)}));a.forEach(function(e){o.observe(e)})}}])}();function Ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ve=function(){return!!e})()}var Ue=function(a){function o(){var e,n,a,r;return(0,t.A)(this,o),n=this,a=o,r=["simulator.markup",".js-bcee-simulator-markup"],a=(0,Z.A)(a),(e=(0,Q.A)(n,Ve()?Reflect.construct(a,r||[],(0,Z.A)(n).constructor):a.apply(n,r))).attachEvent(),e}return(0,ee.A)(o,a),(0,n.A)(o,[{key:"attachEvent",value:function(){var t=this;Events.register(e.A.Events.AJAX_FORM_RESPONDED,function(e){if(e.formKey===t.formKey){var n=document.querySelector("#js-simulator-markup-box");n&&window.scrollTo({top:n.getBoundingClientRect().top-55,left:0,behavior:"smooth"})}return!0})}}])}(fe);function $e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($e=function(){return!!e})()}var He=function(a){function o(e){var n,a,r,i;return(0,t.A)(this,o),a=this,r=o,i=[e],r=(0,Z.A)(r),(n=(0,Q.A)(a,$e()?Reflect.construct(r,i||[],(0,Z.A)(a).constructor):r.apply(a,i))).agencyName="",n.agencyAddress="",n.values=[],n.attachCustomJSEvents(),n.attachCustomEvents(),n.attachModalEvents(),n.checkUserAddressSectionDisplay(),n}return(0,ee.A)(o,a),(0,n.A)(o,[{key:"attachCustomJSEvents",value:function(){var t=this;$("#info-table-collapse").on("show.bs.collapse",function(){var e=document.getElementById("detailBtn");e.querySelector('[data-action="hide"]').style.display="block",e.querySelector('[data-action="show"]').style.display="none"}),$("#info-table-collapse").on("shown.bs.collapse",function(){var e=document.getElementById("info-table-collapse"),n=document.querySelector(".sds-sectionForm__container.-isActive .sds-sectionForm__itemBody").scrollTop,a=e.getBoundingClientRect().top;n||(n=window.scrollY),n<a&&t.scrollToElement(a-150)}),$("#info-table-collapse").on("hide.bs.collapse",function(){var e=document.getElementById("detailBtn");e.querySelector('[data-action="hide"]').style.display="none",e.querySelector('[data-action="show"]').style.display="block"}),document.querySelectorAll(".gdprModal").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"gdprModal"})})}),document.querySelectorAll(".conditionModal").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"conditionModal"})})})}},{key:"attachCustomEvents",value:function(){var t=this;Events.register(e.A.Events.AJAX_STEP_FORM_SUMMARY_VALUES,function(e){return 4===e.position.step?(t.updateInputAmount("totalIncomes",e.customValues.totalIncomes),t.updateInputAmount("totalExpenses",e.customValues.totalExpenses)):5===e.position.step&&1===e.position.page?t.renderSummary(e.formValues,e.customValues):5===e.position.step&&2===e.position.page&&t.element.find(".confirmationMessage").html(e.customValues.confirmationMessage),!0}),Events.register(e.A.Events.FORM_ELEMENT_CHANGED,function(e){if("loan_objective"===e.name){var n=se.getFormElement(e.formKey,"loan_objective"),a=se.getFormElement(e.formKey,"loan_duration");"real_estate"===n.getValue()?a.reload(2,2,8):a.reload(1,1,10)}return"isCustomer"===e.name&&t.checkUserAddressSectionDisplay(),!0}),Events.register(e.A.Events.AJAX_FORM_RESPONDED,function(e){var n,a;return t.element.find("#confirmationPdfDownload").attr("download",null===(n=e.response.data)||void 0===n||null===(n=n.customData)||void 0===n?void 0:n.pdf.name),t.element.find("#confirmationPdfDownload").attr("href",null===(a=e.response.data)||void 0===a||null===(a=a.customData)||void 0===a?void 0:a.pdf.link),!0}),Events.register(e.A.Events.INPUT_AMOUNT_REMOVED,function(e){var n=document.querySelector('*[name="'+e.name+'"]');return t.setFieldToValidate(n,e.name),!0})}},{key:"checkUserAddressSectionDisplay",value:function(){se.getFormElement(this.formKey,"isCustomer").getValue()?this.element.find(".js-user-address").hide():this.element.find(".js-user-address").show()}},{key:"renderSummary",value:function(e,t){var n=[(0,ue.A)("DIV",{class:"sds-stackMd"},[(0,ue.A)("DIV",{class:"sds-stackMd"},t.simulation.label),(0,ue.A)("DIV",{class:"sds-progress progress -validityGradientNoProgress","aria-hidden":!0,style:t.simulation.gradient},[(0,ue.A)("DIV",{class:"sds-progress__indicator",style:"left:"+t.simulation.bulletPosition},"")]),(0,ue.A)("DIV",{class:"sds-textHelperSmall sds-metaColor text-right"},t.simulation.totalIncome+" ")])];this.element.find(".simulationResult").html(n),this.element.find(".customer").html(t.isCustomer.value),this.element.find(".agency").html(t.agency.value),this.element.find(".loanObjective").html(t.loan_objective.value),this.element.find(".buyingPrice").html(t.buying_price.value),this.element.find(".loanAmount").html(t.loan_amount.value),this.element.find(".loanDuration").html(e.loan_duration.value),this.displaySummaryItem(t,["income_salary","income_family_allowances","income_pension","income_rents","income_alimony","income_other","expense_rent","expense_nursery","expense_other","expense_support_paid","expense_existing_payments","estate"]),this.element.find(".lastname").html(e.last_name.value),this.element.find(".firstname").html(e.first_name.value),this.element.find(".birthdate").html(t.birthdate.value),this.element.find(".maritalStatus").html(e.marital_status.value),this.element.find(".children").html(e.children.value),this.element.find(".street").html(e.street.value),this.element.find(".locality").html(e.postal_code.value),this.element.find(".country").html(t.country.value),"other"===e.country.value?(this.element.find(".otherCountry").html(e.other_country.value),this.element.find(".otherCountry").closest("tr").show()):this.element.find(".otherCountry").closest("tr").hide(),this.element.find(".phone").html(t.phone_number.value),this.element.find(".email").html(e.email.value),"true"===e.coapplicant.value?(this.element.find(".coapplicantName").html(e.coapplicant_name.value),this.element.find(".coapplicantFirstName").html(e.coapplicant_firstname.value),this.element.find(".coapplicantBirthdate").html(t.coapplicant_birthdate.value),this.element.find(".coApplicant").show()):this.element.find(".coApplicant").hide()}},{key:"displaySummaryItem",value:function(e,t){var n=this;t.forEach(function(t){e[t]&&e[t].value?n.element.find("."+t).html(e[t].value):n.element.find("."+t).closest("tr").hide()})}},{key:"attachModalEvents",value:function(){$(".noReasonModalBtn").on("click",function(t){t.preventDefault(),Events.fire(e.A.Events.AJAX_STEP_FORM_TRIGGER_MODAL,{modal:"initModal"})})}},{key:"scrollToElement",value:function(e){var t;!0===window.matchMedia("(max-width: 1280px)").matches?window.scrollTo({top:e+window.scrollY,left:0,behavior:"smooth"}):null===(t=document.querySelector(".sds-sectionForm__container.-isActive .sds-sectionForm__itemBody"))||void 0===t||t.scrollTo({top:e,left:0,behavior:"smooth"})}}])}(Se),Xe=(0,n.A)(function e(){(0,t.A)(this,e);var n=document.getElementById("ka-simulation");n&&window.addEventListener("message",function(e){var t;if("ka-embed-resize"===(null===(t=e.data)||void 0===t?void 0:t.type)){var a=e.data.value,o=(a.width,a.height);n.style.height=o+"px"}},!1)});function Ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ke=function(){return!!e})()}var Je=function(a){function o(){var e,n,a,r;return(0,t.A)(this,o),n=this,a=o,r=["simulator.pret.logement",".js-form-simulator-pret-logement"],a=(0,Z.A)(a),(e=(0,Q.A)(n,Ke()?Reflect.construct(a,r||[],(0,Z.A)(n).constructor):a.apply(n,r))).attachEvent(),e}return(0,ee.A)(o,a),(0,n.A)(o,[{key:"attachEvent",value:function(){Events.register(e.A.Events.FORM_ELEMENT_CHANGED,function(t){var n=t.formKey,a=t.name,o=t.value,r=t.index||0,i=t.element;if("simulator.pret.logement"===n)if("duration"===a)r=i.attr("max")-o,Events.fire(e.A.Events.FORM_SLIDER_SET_INDEX,{name:"monthly",index:r});else if("monthly"===a){var s=t.elementNative.dataset.values.split(",")||[];Events.fire(e.A.Events.FORM_SLIDER_SET_VALUE,{name:"duration",value:s.length-(s.indexOf(t.value)||0)})}return!0})}}])}(fe);function Ge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ge=function(){return!!e})()}var We=function(a){function o(){var e,n,a,r;return(0,t.A)(this,o),n=this,a=o,r=["simulator.cedies",".js-form-simulator-cedies"],a=(0,Z.A)(a),(e=(0,Q.A)(n,Ge()?Reflect.construct(a,r||[],(0,Z.A)(n).constructor):a.apply(n,r))).collapse=e.domForm.querySelector(".js-form-simulator-cedies-collapse"),e.attachEvent(),e}return(0,ee.A)(o,a),(0,n.A)(o,[{key:"attachEvent",value:function(){var t=this;Events.register(e.A.Events.FORM_ELEMENT_CHANGED,function(e){var n=e.formKey,a=e.name,o=e.value;return"simulator.cedies"===n&&"employment_status"===a&&("employed"===o?$(t.collapse).collapse("show"):$(t.collapse).collapse("hide")),!0})}}])}(fe),Ye={init:function(){var t,n,a=this;console.log("Starting Spuerkeess..."),this.checkTouchSupport(),Events.register(e.A.Events.WINDOW_LOADED,function(){return a.attachBranchIdBanner(),a.messageContentSize(),new Re,new le,new Be,a.attachHeadroom(),a.attachComponents(),a.resizeSDSContent(),Events.register(e.A.Events.WINDOW_RESIZE,function(){return a.resizeSDSContent(),!0}),a.attachForms(),a.formLeadGeneration(),a.addCustomCharts(),a.attachTips(),a.attachAHrefLinks(),new ye,a.attachModalEvents(),a.apartInputsTest(),new Ne,new Xe,!0},e.A.Priority.LOW),n=!1,document.body.addEventListener("touchstart",function(e){e.target.closest(".flickity-slider")?(n=!0,t={x:e.touches[0].pageX,y:e.touches[0].pageY}):n=!1}),document.body.addEventListener("touchmove",function(e){if(n&&e.cancelable){var a={x:e.touches[0].pageX-t.x,y:e.touches[0].pageY-t.y};Math.abs(a.x)>7&&e.preventDefault()}},{passive:!1})},messageContentSize:function(){var e;null===(e=window.parent)||void 0===e||e.postMessage({type:"resize",width:"100%",height:window.document.body.scrollHeight},"*")},attachBranchIdBanner:function(){var e=document.querySelector(".js-branch-id");e&&e.addEventListener("click",function(){e.remove()})},attachComponents:function(){this.attachComponent(".timeline-carousel",be),this.attachComponent(".bcee-form-dynamicquestion",Ae),this.attachComponent(".js-form-lead-generation",he),this.attachComponent('FORM[data-key="simulator.financial.plan"]',ve),this.attachComponent('FORM[data-key="simulator.markup"]',Ue),this.attachComponent('FORM[data-key="simulator.pret.logement"]',Je),this.attachComponent(".sds-form-appointment-request",Te),this.attachComponent(".sds-form-housing-request",Ce),this.attachComponent(".sds-form-housing-loan-request.sds-customFrame",xe),this.attachComponent(".sds-form-personal-loan-request",He),this.attachComponent(".js-form-simulator-cedies",We),this.attachBlogEvents(),this.loadingLazyImages()},addCustomCharts:function(){new o},attachComponent:function(e,t){var n=$(e);n.length>0&&n.each(function(e,n){return new t(n)})},checkTouchSupport:function(){"ontouchstart"in window||$("body").addClass("no-touch")},attachAHrefLinks:function(){r.A.bindAnchorAnimation($("body"))},resizeSDSContent:function(){var e=document.querySelector(".sds-snetFrame__inner");if(e){var t=e.offsetTop,n=window.innerHeight;e.style.minHeight=n-t+"px"}},attachModalEvents:function(){this.modal=new de},attachForms:function(){this.forms=c.A,Events.register(e.A.Events.AJAX_FORM_RESPONDED,function(e){if("form.appointment"===e.formKey){if(!e.response.result)switch($("#appointment-form-validate").removeClass("d-none"),$(".bcee-appointment-submit-loading").addClass("d-none"),$(".appointment-form-wrapper .mandatory input:first").change(),grecaptcha&&grecaptcha.reset(),e.response.error.step){case"captcha":$(".captcha-error").removeClass("d-none");break;case"ApiCall":$(".rdv-error").removeClass("d-none")}$(".appointment-form-wrapper .mandatory input:first").change()}return!0})},attachTips:function(){$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover()},formLeadGeneration:function(){var e=this,t=$("FORM.js-form-lead-generation");if(t){var n=t.find("INPUT.lastname"),a=t.find("INPUT.firstname"),o=t.find("INPUT.dateofbirth"),r=t.find("INPUT[name=servicePoint]"),i=t.find("SELECT[name=agency]"),s=$("DIV.agencyGroup"),l=t.find("DIV.tel"),c=$("DIV.telGroup"),u=t.find("DIV.mail"),d=$("DIV.mailGroup"),m=t.find("DIV.message"),h=t.find('DIV[data-name="disclaimer[]"]'),f=t.find("DIV.disclaimersGroup"),p=t.find("INPUT#communicationVector");$("input[name=submitted]").val("false"),$(".btn-segment",".bcee-form-tabs").each(function(e,n){var a=$(n);a.on("click",function(e){var n=a.data("target");p.val(n),"tel"==n?(d.hide("blind",250),c.delay(250).show("blind",250)):"mail"==n?(c.hide("blind",250),d.delay(250).show("blind",250)):alert("no value"),t.trigger("change")})});var v={agency:i,mail:u,tel:l,message:m,disclaimersGroup:f,communication:p,telGroup:c,mailGroup:d,servicepoint:r,agencyGroup:s};a.on("focus",function(t,n){m.is(":hidden")&&e.formLeadGenerationHandler(v)}),n.on("focus",function(t,n){m.is(":hidden")&&e.formLeadGenerationHandler(v)}),o.on("focus",function(t,n){m.is(":hidden")&&e.formLeadGenerationHandler(v)}),h.on("click",function(e){t.trigger("change")})}},formLeadGenerationHandler:function(e){e.agency.parent().parent().show("blind",1),e.mail.show("blind",1),e.tel.show("blind",1),e.message.show("blind",1),e.disclaimersGroup.show("blind",1),"tel"===e.communication.val()?e.telGroup.show("blind",1):e.mailGroup.show("blind",1),"1"===e.servicepoint.val()?e.agencyGroup.show("blind",1):e.agencyGroup.hide("blind",1),setTimeout(function(e){$(".collapsed-elements").show("blind")},400)},attachBreadcrumb:function(){$(".bcee-breadcrumbs").length>0&&$(".breadcrumb-item-list").find(".breadcrumbs-item").each(function(e,t){var n=$(t).find(".breadcrumb-text"),a=r.A.decodeHTML(n.html()),o=a.split(/\n/);a=(o=o.map(function(e){return e.split("").reverse().join("")})).join(""),$(n).html(a)})},attachBlogEvents:function(){$(".bcee-main.page-blog").each(function(t,n){$(n).find(".bcee-blog-tag, .bcee-category-card").each(function(t,n){var a=$(n);a.on("click",function(t){Events.fire(e.A.Events.ANALYTICS,{category:"blog.category",action:"clicked",name:a.attr("data-name"),value:null})})})})},loadingLazyImages:function(){if("loading"!==document.readyState){var e=[].slice.call(document.querySelectorAll(".lazy-bg"));if("IntersectionObserver"in window){var t=new IntersectionObserver(function(e,n){e.forEach(function(e){e.isIntersecting&&(e.target.classList.remove("lazy-bg"),t.unobserve(e.target))})});e.forEach(function(e){t.observe(e)})}}},apartInputsTest:function(){Events.register(e.A.Events.AJAX_FORM_NEO_RESPONDED,function(e){if("apart.testing"===e.formKey){var t=j.getFormInstanceForKey(e.formKey);if(t){var n=t.getComponent("phone");console.log("main::apartInputsTest",n.getValue())}}return!0})},attachHeadroom:function(){var e=document.querySelector("[data-headroom-nav]"),t=parseInt(l().SpacerUnit8,10);if(CSS&&CSS.supports&&CSS.supports("position","sticky")&&e){var n,a,o=e.clientHeight,r=null!==(n=e.querySelector(".sds-header__nav").clientHeight)&&void 0!==n?n:0,i=null!==(a=e.querySelector(".sds-header__subNav").clientHeight)&&void 0!==a?a:0;new Headroom(e,{offset:o,tolerance:0,classes:{initial:"-headroom",pinned:"-headroomPinned",unpinned:"-headroomUnpinned",top:"-headroomTop",notTop:"-headroomNotTop",bottom:"-headroomBottom",notBottom:"-headroomNotBottom",frozen:"-headroomFrozen"},onPin:function(){e.style.top=0,document.querySelectorAll("[data-reacts-to-headroom]").forEach(function(e){return e.style.top="".concat(o+t,"px")})},onUnpin:function(){e.style.top="-".concat(r,"px"),document.querySelectorAll("[data-reacts-to-headroom]").forEach(function(e){return e.style.top="".concat(i+t,"px")})},onTop:function(){document.querySelectorAll("[data-reacts-to-headroom]").forEach(function(e){return e.style.top="".concat(i,"px")})},onNotTop:function(){},onBottom:function(){},onNotBottom:function(){}}).init()}else{var s=document.querySelector(".sds-nav.sticky-header");s&&document.querySelectorAll("[data-reacts-to-headroom]").forEach(function(e){return e.style.top="".concat(s.clientHeight+t,"px")})}}};window.addEventListener("DOMContentLoaded",function(t){Ye.init(),Events.fire(e.A.Events.WINDOW_LOADED)})})()})();